{"ast":null,"code":"const API_ENDPOINT = 'http://localhost:4000';\nexport const stripePaymentMethodHandler = async (data, cb) => {\n  const {\n    amount,\n    result\n  } = data;\n\n  if (result.error) {\n    // show error in payment form\n    cb(result);\n  } else {\n    const paymentResponse = await stripePayment({\n      payment_method_id: result.paymentMethod.id,\n      name: result.paymentMethod.billing_details.name,\n      email: result.paymentMethod.billing_details.email,\n      amount: amount\n    });\n    console.log(paymentResponse);\n    cb(paymentResponse);\n  }\n}; // place backend API call for payment\n\nconst stripePayment = async data => {\n  const res = await fetch(`${API_ENDPOINT}/api/stripe-pay`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n  console.log({\n    res\n  });\n  return await res.json();\n};","map":{"version":3,"sources":["/Users/plenum/Desktop/react-native/vivaquad/admin-backend/admin-vivaquad/src/pages/payments/stripe-api.js"],"names":["API_ENDPOINT","stripePaymentMethodHandler","data","cb","amount","result","error","paymentResponse","stripePayment","payment_method_id","paymentMethod","id","name","billing_details","email","console","log","res","fetch","method","headers","body","JSON","stringify","json"],"mappings":"AAAA,MAAMA,YAAY,GAAG,uBAArB;AAEA,OAAO,MAAMC,0BAA0B,GAAG,OAAOC,IAAP,EAAaC,EAAb,KAAoB;AAC1D,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAqBH,IAA3B;;AACA,MAAIG,MAAM,CAACC,KAAX,EAAkB;AACd;AACAH,IAAAA,EAAE,CAACE,MAAD,CAAF;AACH,GAHD,MAGO;AACH,UAAME,eAAe,GAAG,MAAMC,aAAa,CAAC;AACxCC,MAAAA,iBAAiB,EAAEJ,MAAM,CAACK,aAAP,CAAqBC,EADA;AAExCC,MAAAA,IAAI,EAAEP,MAAM,CAACK,aAAP,CAAqBG,eAArB,CAAqCD,IAFH;AAGxCE,MAAAA,KAAK,EAAET,MAAM,CAACK,aAAP,CAAqBG,eAArB,CAAqCC,KAHJ;AAIxCV,MAAAA,MAAM,EAAEA;AAJgC,KAAD,CAA3C;AAMAW,IAAAA,OAAO,CAACC,GAAR,CAAYT,eAAZ;AACAJ,IAAAA,EAAE,CAACI,eAAD,CAAF;AACH;AACJ,CAfM,C,CAiBP;;AACA,MAAMC,aAAa,GAAG,MAAMN,IAAN,IAAc;AAChC,QAAMe,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAElB,YAAa,iBAAjB,EAAmC;AACtDmB,IAAAA,MAAM,EAAE,MAD8C;AAEtDC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAF6C;AAGtDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAerB,IAAf;AAHgD,GAAnC,CAAvB;AAMAa,EAAAA,OAAO,CAACC,GAAR,CAAY;AAACC,IAAAA;AAAD,GAAZ;AACA,SAAO,MAAMA,GAAG,CAACO,IAAJ,EAAb;AACH,CATD","sourcesContent":["const API_ENDPOINT = 'http://localhost:4000';\n\nexport const stripePaymentMethodHandler = async (data, cb) => {\n    const { amount, result } = data;\n    if (result.error) {\n        // show error in payment form\n        cb(result);\n    } else {\n        const paymentResponse = await stripePayment({\n            payment_method_id: result.paymentMethod.id,\n            name: result.paymentMethod.billing_details.name,\n            email: result.paymentMethod.billing_details.email,\n            amount: amount\n        });\n        console.log(paymentResponse);\n        cb(paymentResponse);\n    }\n}\n\n// place backend API call for payment\nconst stripePayment = async data => {\n    const res = await fetch(`${API_ENDPOINT}/api/stripe-pay`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data),\n    })\n\n    console.log({res})\n    return await res.json();\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/plenum/Desktop/react-native/vivaquad/admin-backend/admin-vivaquad/src/pages/payments/CheckoutForm.js\";\nimport React, { useState, useEffect } from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport axios from 'axios'; // import { Alert } from 'antd';\n\nconst baseUrl = process.env.REACT_APP_ApiUrl;\nexport default function CheckoutForm(props) {\n  // const handlePayment = () => {\n  //     console.log('working')\n  // }\n  useEffect(() => {\n    console.log('props', props);\n    props.history.push('/login');\n  }, []);\n\n  const handleToken = async (token, addresses) => {\n    // console.log({token, addresses})\n    let user = JSON.parse(localStorage.getItem(\"user\"));\n    const res = await axios.post(`${baseUrl}/api/stripe-pay`, {\n      token,\n      addresses,\n      user\n    });\n\n    if (res.data.status) {\n      alert(res.data.message);\n      console.log('working');\n      props.history.push('/login');\n    } else {\n      alert(\"Something Weny Wrong\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"d-flex justify-content-between align-items-center mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, \"Pay with card\")), /*#__PURE__*/React.createElement(StripeCheckout, {\n    stripeKey: \"pk_test_51Iug0ySBeksr324AnMsGUjac2svTFYwB40ldkaFwrNbn88BX5cK4cjgzTTWE9jVjP6OSEfRMcdyGDePVCmVKPYOC00wh7XcBk7\",\n    token: handleToken,\n    billingAddress: true,\n    shippingAddress: true,\n    amount: 20 * 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/plenum/Desktop/react-native/vivaquad/admin-backend/admin-vivaquad/src/pages/payments/CheckoutForm.js"],"names":["React","useState","useEffect","StripeCheckout","axios","baseUrl","process","env","REACT_APP_ApiUrl","CheckoutForm","props","console","log","history","push","handleToken","token","addresses","user","JSON","parse","localStorage","getItem","res","post","data","status","alert","message"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,gBAA5B;AAGA,eAAe,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAExC;AACA;AACA;AAEAR,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACAA,IAAAA,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACH,GAHQ,EAGN,EAHM,CAAT;;AAKA,QAAMC,WAAW,GAAG,OAAOC,KAAP,EAAcC,SAAd,KAA4B;AAC5C;AAEA,QAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAX;AAEA,UAAMC,GAAG,GAAG,MAAMnB,KAAK,CAACoB,IAAN,CAAY,GAAEnB,OAAQ,iBAAtB,EAAwC;AAAEW,MAAAA,KAAF;AAASC,MAAAA,SAAT;AAAoBC,MAAAA;AAApB,KAAxC,CAAlB;;AAEA,QAAGK,GAAG,CAACE,IAAJ,CAASC,MAAZ,EAAoB;AAChBC,MAAAA,KAAK,CAACJ,GAAG,CAACE,IAAJ,CAASG,OAAV,CAAL;AACAjB,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAF,MAAAA,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACH,KAJD,MAIM;AACFa,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACH;AACJ,GAdD;;AAgBA,sBACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,wDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,CADJ,eAII,oBAAC,cAAD;AACI,IAAA,SAAS,EAAC,6GADd;AAEI,IAAA,KAAK,EAAEZ,WAFX;AAGI,IAAA,cAAc,MAHlB;AAII,IAAA,eAAe,MAJnB;AAKI,IAAA,MAAM,EAAE,KAAK,GALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADJ;AAeH","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport axios from 'axios';\n// import { Alert } from 'antd';\n\nconst baseUrl = process.env.REACT_APP_ApiUrl;\n\n\nexport default function CheckoutForm(props) {   \n    \n    // const handlePayment = () => {\n    //     console.log('working')\n    // }\n\n    useEffect(() => {\n        console.log('props', props)\n        props.history.push('/login');\n    }, [])\n\n    const handleToken = async (token, addresses) => {\n        // console.log({token, addresses})\n\n        let user = JSON.parse(localStorage.getItem(\"user\"))\n\n        const res = await axios.post(`${baseUrl}/api/stripe-pay`, { token, addresses, user });\n\n        if(res.data.status) {\n            alert(res.data.message)\n            console.log('working')\n            props.history.push('/login');\n        }else {\n            alert(\"Something Weny Wrong\")\n        }\n    }\n\n    return (\n        <React.Fragment>\n            <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\n                <span className=\"text-muted\">Pay with card</span>\n            </h4>   \n            <StripeCheckout \n                stripeKey='pk_test_51Iug0ySBeksr324AnMsGUjac2svTFYwB40ldkaFwrNbn88BX5cK4cjgzTTWE9jVjP6OSEfRMcdyGDePVCmVKPYOC00wh7XcBk7' \n                token={handleToken}\n                billingAddress\n                shippingAddress\n                amount={20 * 100}\n            />\n            \n        </React.Fragment>\n    );\n}"]},"metadata":{},"sourceType":"module"}
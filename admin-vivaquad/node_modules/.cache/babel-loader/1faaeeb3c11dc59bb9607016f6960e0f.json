{"ast":null,"code":"var _jsxFileName = \"/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/src/pages/time_table/list.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Apploader from '../../components/loader/loader';\nimport { connect } from 'dva';\nimport moment from 'moment';\nimport { Form, Select, Card, Typography, Alert, Input, Button, Table, Radio, Divider, Switch, Row, Col, Avatar, Pagination, Tabs, Modal, Badge, Popconfirm, DatePicker } from 'antd';\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport AddEdit from './action/addEdit';\nimport { getTitleImage } from '../../utils/functions';\nconst {\n  Search\n} = Input;\nconst {\n  Text\n} = Typography;\nconst {\n  TabPane\n} = Tabs;\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 24\n    }\n  }\n};\n\nclass TimeTableList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.formRef = React.createRef();\n\n    this.ListFun = async () => {\n      let data = await this.props.dispatch({\n        type: 'time_tables/timeTableList',\n        payload: {}\n      });\n      const allData = data === null || data === void 0 ? void 0 : data.data;\n\n      if (allData.length > 0) {\n        const streamList = [...new Map(allData.map(item => [item.streamInfo[0][\"name\"], item])).values()];\n        const yearList = [...new Map(allData.map(item => [item[\"year\"], item])).values()];\n        const classList = [...new Map(allData.map(item => [item[\"class\"], item])).values()];\n        const subjectList = [...new Map(allData.map(item => [item.subjectInfo[\"subject_name\"], item])).values()];\n        const teacherList = [...new Map(allData.map(item => [item.userInfo[0][\"username\"], item])).values()];\n        this.setState({\n          stream_list: streamList,\n          year_list: yearList,\n          class_list: classList,\n          subject_list: subjectList,\n          teacher_list: teacherList\n        });\n      }\n    };\n\n    this.ShowSizeChange = (current, size) => this.setState({\n      limit: size\n    }, () => this.ListFun());\n\n    this.switchFun = val => this.setState({\n      inactive: val\n    }, () => this.ListFun());\n\n    this.ChangeOrder = val => this.setState({\n      sortBy: this.state.sortBy === 'asc' ? 'desc' : 'asc'\n    }, () => this.ListFun());\n\n    this.searchVal = val => {\n      this.state.searchText = val;\n      const resultAutos = this.props.time_tables.list.filter(auto => auto.streamInfo[0].name.toLowerCase().includes(val.toLowerCase()) || auto.subjectInfo.subject_name.toLowerCase().includes(val.toLowerCase()));\n      this.setState({\n        listData: resultAutos\n      });\n    };\n\n    this.createCat = val => {\n      if (val) {\n        this.ListFun();\n      }\n\n      this.setState({\n        detail: '',\n        addModel: false\n      });\n    };\n\n    this.deletetime_tables = id => {\n      this.props.dispatch({\n        type: 'time_tables/deleteTimeTable',\n        payload: id\n      });\n    };\n\n    this.onStreamChange = e => {\n      const year_list = [...new Map(this.state.listData && this.state.listData.filter(item => item.streamInfo[0]._id === e).map(item => [item[\"year\"], item])).values()];\n      this.setState({\n        year_list: year_list,\n        setStream: e,\n        listData: year_list\n      });\n    };\n\n    this.onYearChange = e => {\n      const class_list = [...new Map(this.state.listData && this.state.listData.filter(item => item.year === e && item.stream_id === this.state.setStream).map(item => [item[\"class\"], item])).values()];\n      this.setState({\n        class_list: class_list,\n        setYear: e\n      });\n    };\n\n    this.onClassChange = e => {\n      const subject_list = [...new Map(this.state.listData && this.state.listData.filter(item => item.class === e && item.year === this.state.setYear && item.stream_id === this.state.setStream).map(item => [item.subjectInfo[\"subject_name\"], item])).values()];\n      this.setState({\n        subject_list: subject_list,\n        setClass: e\n      });\n    };\n\n    this.onSubjectChange = e => {\n      const teacher_list = [...new Map(this.state.listData && this.state.listData.filter(item => item.subjectInfo._id === e && item.class === this.state.setClass && item.year === this.state.setYear && item.stream_id === this.state.setStream).map(item => [item.userInfo[0][\"username\"], item])).values()];\n      this.setState({\n        teacher_list: teacher_list\n      });\n    };\n\n    this.handleSubmit = async val => {\n      console.log('val', val);\n      let data = await this.props.dispatch({\n        type: 'time_tables/timeTableList',\n        payload: val\n      });\n    };\n\n    this.state = {\n      limit: 25,\n      current: 1,\n      sortBy: 'asc',\n      addModel: false,\n      inactive: false,\n      searchText: '',\n      loader: false,\n      detail: '',\n      count: 0,\n      Addcount: 0,\n      listData: [],\n      stream_list: [],\n      year_list: [],\n      class_list: [],\n      subject_list: [],\n      teacher_list: [],\n      setStream: '',\n      setYear: '',\n      setClass: '',\n      setSubject: ''\n    };\n    setTimeout(() => document.title = 'Time Table List', 100);\n    this.isUpdate = false;\n  }\n\n  componentDidMount() {\n    this.ListFun();\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (this.props.time_tables.delete) {\n      this.props.dispatch({\n        type: 'time_tables/clearAction'\n      });\n      this.ListFun();\n      return true;\n    }\n\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // console.log('prevProps' ,prevProps)\n    // console.log('prevState' ,prevState)\n    // console.log('snapshot' ,snapshot)\n    if (snapshot) {}\n  }\n\n  render() {\n    var _this$props, _this$props$time_tabl;\n\n    const {\n      inactive,\n      limit,\n      searchText,\n      addModel,\n      detail\n    } = this.state;\n    let allData = (_this$props = this.props) === null || _this$props === void 0 ? void 0 : (_this$props$time_tabl = _this$props.time_tables) === null || _this$props$time_tabl === void 0 ? void 0 : _this$props$time_tabl.list;\n    const {\n      time_tables\n    } = this.props;\n\n    if (this.state.searchText == '') {\n      this.state.listData = time_tables.list ? time_tables.list : [];\n    }\n\n    if (allData.length > 0) {\n      const streamList = [...new Map(allData.map(item => [item.streamInfo[0][\"name\"], item])).values()];\n      const yearList = [...new Map(allData.map(item => [item[\"year\"], item])).values()];\n      const classList = [...new Map(allData.map(item => [item[\"class\"], item])).values()];\n      const subjectList = [...new Map(allData.map(item => [item.subjectInfo[\"subject_name\"], item])).values()];\n      const teacherList = [...new Map(allData.map(item => [item.userInfo[0][\"username\"], item])).values()]; // this.state.stream_list = streamList\n      // this.state.year_list = yearList\n      // this.state.class_list = classList\n      // this.state.subject_list = subjectList\n      // this.state.teacher_list = teacherList\n    }\n\n    const columns = [{\n      title: /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 12\n        }\n      }, \"Stream Names\"),\n      dataIndex: 'streamInfo',\n      render: (value, row) => {\n        var _value$;\n\n        return /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }\n        }, (_value$ = value[0]) === null || _value$ === void 0 ? void 0 : _value$.name);\n      }\n    }, {\n      title: /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 12\n        }\n      }, \"Year\"),\n      dataIndex: 'year'\n    }, {\n      title: /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 12\n        }\n      }, \"class\"),\n      dataIndex: 'class'\n    }, {\n      title: /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 12\n        }\n      }, \"Subject Name\"),\n      dataIndex: 'subjectInfo',\n      render: (value, row) => {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }\n        }, value === null || value === void 0 ? void 0 : value.subject_name);\n      }\n    }, {\n      title: /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 12\n        }\n      }, \"Teacher Name\"),\n      dataIndex: 'userInfo',\n      render: (value, row) => {\n        var _value$2;\n\n        return /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }\n        }, (_value$2 = value[0]) === null || _value$2 === void 0 ? void 0 : _value$2.username);\n      }\n    }, {\n      title: /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 12\n        }\n      }, \"Start Time\"),\n      dataIndex: 'startTime',\n      render: (value, row) => {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }\n        }, moment(value).format(\"hh:mm a\"));\n      }\n    }, {\n      title: /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 12\n        }\n      }, \"End Time\"),\n      dataIndex: 'endTime',\n      render: (value, row) => {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }\n        }, moment(value).format(\"hh:mm a\"));\n      }\n    }, {\n      title: /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 12\n        }\n      }, \"Date\"),\n      dataIndex: 'date',\n      render: (value, row) => {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }\n        }, moment(value).format(\"DD-MM-year\"));\n      }\n    }, {\n      title: /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 12\n        }\n      }, \"Action\"),\n      align: 'center',\n      render: (val, data) => /*#__PURE__*/React.createElement(\"div\", {\n        onClick: e => e.stopPropagation(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"default\",\n        className: \"edit_btn\",\n        onClick: () => {\n          this.props.history.push('/time-table/edit/' + data._id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(EditOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 126\n        }\n      })), /*#__PURE__*/React.createElement(Popconfirm, {\n        title: \"Are you sure delete this time table?\",\n        onConfirm: e => {\n          this.deletetime_tables(data._id);\n          e.stopPropagation();\n        },\n        okText: \"Yes\",\n        cancelText: \"No\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(DeleteOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 30\n        }\n      }))))\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Apploader, {\n      show: this.props.loading.global,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      className: \"TopActionBar\",\n      gutter: [16, 0],\n      justify: \"space-between\",\n      align: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Search, {\n      placeholder: \"Search...\",\n      onChange: e => this.searchVal(e.target.value),\n      value: searchText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: () => this.props.history.push('/time-table/add'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 7\n      }\n    }, \"Add\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"innerContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      style: {\n        marginTop: \"0\"\n      },\n      bodyStyle: {\n        padding: '0 15px 15px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      columns: columns,\n      dataSource: this.state.listData,\n      rowKey: record => record._id,\n      onRow: (record, rowIndex) => {\n        return {// onClick: event => this.setState({ addModel: true, detail: record })\n        };\n      },\n      pagination: {\n        position: ['bottomLeft'],\n        showTotal: (total, range) => /*#__PURE__*/React.createElement(Text, {\n          type: \"secondary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 38\n          }\n        }, `Showing ${range[0]}-${range[1]} of ${total}`),\n        showSizeChanger: true,\n        responsive: true,\n        onShowSizeChange: (current, size) => this.ShowSizeChange(current, size),\n        pageSizeOptions: ['10', '25', '50', '100', '250', '500']\n      },\n      loading: this.props.loading.global,\n      title: () => {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, Object.assign({\n          ref: this.formRef\n        }, formItemLayout, {\n          className: \"bg-light\",\n          style: {\n            maxWidth: '100%'\n          },\n          layout: \"vertical\",\n          onFinish: this.handleSubmit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 10\n          }\n        }), /*#__PURE__*/React.createElement(Row, {\n          gutter: 15,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          sm: 12,\n          md: 8,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(Form.Item, {\n          name: \"stream_id\",\n          label: \"Stream Name\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Select, {\n          placeholder: \"Select Stream\",\n          onChange: e => this.onStreamChange(e),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 14\n          }\n        }, this.state.stream_list && this.state.stream_list.map((item, index) => {\n          var _item$streamInfo$, _item$streamInfo$2;\n\n          return /*#__PURE__*/React.createElement(Select.Option, {\n            key: index,\n            value: item === null || item === void 0 ? void 0 : (_item$streamInfo$ = item.streamInfo[0]) === null || _item$streamInfo$ === void 0 ? void 0 : _item$streamInfo$._id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 23\n            }\n          }, item === null || item === void 0 ? void 0 : (_item$streamInfo$2 = item.streamInfo[0]) === null || _item$streamInfo$2 === void 0 ? void 0 : _item$streamInfo$2.name);\n        })))), /*#__PURE__*/React.createElement(Col, {\n          sm: 12,\n          md: 8,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(Form.Item, {\n          name: \"year\",\n          label: \"Year\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Select, {\n          placeholder: \"Select Year\",\n          onChange: e => this.onYearChange(e),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 14\n          }\n        }, this.state.year_list && this.state.year_list.map((item, index) => /*#__PURE__*/React.createElement(Select.Option, {\n          key: index,\n          value: item === null || item === void 0 ? void 0 : item.year,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 82\n          }\n        }, item === null || item === void 0 ? void 0 : item.year))))), /*#__PURE__*/React.createElement(Col, {\n          sm: 12,\n          md: 8,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(Form.Item, {\n          name: \"class_name\",\n          label: \"Class\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Select, {\n          placeholder: \"Select Class\",\n          onChange: e => this.onClassChange(e),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 14\n          }\n        }, this.state.class_list && this.state.class_list.map((item, index) => /*#__PURE__*/React.createElement(Select.Option, {\n          key: index,\n          value: item === null || item === void 0 ? void 0 : item.class,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 84\n          }\n        }, item === null || item === void 0 ? void 0 : item.class)))))), /*#__PURE__*/React.createElement(Row, {\n          gutter: 15,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          sm: 12,\n          md: 8,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(Form.Item, {\n          name: \"subject_id\",\n          label: \"Subject\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Select, {\n          placeholder: \"Select Subject\",\n          onChange: e => this.onSubjectChange(e),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 14\n          }\n        }, this.state.subject_list && this.state.subject_list.map((item, index) => {\n          var _item$subjectInfo, _item$subjectInfo2;\n\n          return /*#__PURE__*/React.createElement(Select.Option, {\n            key: index,\n            value: item === null || item === void 0 ? void 0 : (_item$subjectInfo = item.subjectInfo) === null || _item$subjectInfo === void 0 ? void 0 : _item$subjectInfo._id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 88\n            }\n          }, item === null || item === void 0 ? void 0 : (_item$subjectInfo2 = item.subjectInfo) === null || _item$subjectInfo2 === void 0 ? void 0 : _item$subjectInfo2.subject_name);\n        })))), /*#__PURE__*/React.createElement(Col, {\n          sm: 12,\n          md: 8,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(Form.Item, {\n          name: \"teacher_id\",\n          label: \"Teacher\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Select, {\n          placeholder: \"Select Teacher\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 14\n          }\n        }, this.state.teacher_list && this.state.teacher_list.map((item, index) => {\n          var _item$userInfo$, _item$userInfo$2;\n\n          return /*#__PURE__*/React.createElement(Select.Option, {\n            key: index,\n            value: item === null || item === void 0 ? void 0 : (_item$userInfo$ = item.userInfo[0]) === null || _item$userInfo$ === void 0 ? void 0 : _item$userInfo$._id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 88\n            }\n          }, item === null || item === void 0 ? void 0 : (_item$userInfo$2 = item.userInfo[0]) === null || _item$userInfo$2 === void 0 ? void 0 : _item$userInfo$2.username);\n        })))), /*#__PURE__*/React.createElement(Col, {\n          sm: 12,\n          md: 8,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(Form.Item, {\n          name: \"date\",\n          label: \"Select Date\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(DatePicker, {\n          z: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 14\n          }\n        })))), /*#__PURE__*/React.createElement(Form.Item, {\n          className: \"mb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          onClick: () => {\n            this.ListFun();\n            this.formRef.current.resetFields();\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 12\n          }\n        }, \"Reset\"), \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(Button, {\n          type: \"primary\",\n          className: \"btn-w25 btn-primary-light\",\n          onClick: () => this.formRef.current.submit(),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 12\n          }\n        }, \"Filter\"))));\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 7\n      }\n    }))));\n  }\n\n}\n\n;\nexport default connect(_ref => {\n  let {\n    time_tables,\n    loading\n  } = _ref;\n  return {\n    time_tables,\n    loading\n  };\n})(TimeTableList);","map":{"version":3,"sources":["/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/src/pages/time_table/list.js"],"names":["React","Link","Apploader","connect","moment","Form","Select","Card","Typography","Alert","Input","Button","Table","Radio","Divider","Switch","Row","Col","Avatar","Pagination","Tabs","Modal","Badge","Popconfirm","DatePicker","DeleteOutlined","EditOutlined","AddEdit","getTitleImage","Search","Text","TabPane","formItemLayout","labelCol","xs","span","sm","TimeTableList","Component","constructor","props","formRef","createRef","ListFun","data","dispatch","type","payload","allData","length","streamList","Map","map","item","streamInfo","values","yearList","classList","subjectList","subjectInfo","teacherList","userInfo","setState","stream_list","year_list","class_list","subject_list","teacher_list","ShowSizeChange","current","size","limit","switchFun","val","inactive","ChangeOrder","sortBy","state","searchVal","searchText","resultAutos","time_tables","list","filter","auto","name","toLowerCase","includes","subject_name","listData","createCat","detail","addModel","deletetime_tables","id","onStreamChange","e","_id","setStream","onYearChange","year","stream_id","setYear","onClassChange","class","setClass","onSubjectChange","handleSubmit","console","log","loader","count","Addcount","setSubject","setTimeout","document","title","isUpdate","componentDidMount","getSnapshotBeforeUpdate","prevProps","prevState","delete","componentDidUpdate","snapshot","render","columns","dataIndex","value","row","username","format","align","stopPropagation","history","push","loading","global","target","marginTop","padding","record","rowIndex","position","showTotal","total","range","showSizeChanger","responsive","onShowSizeChange","pageSizeOptions","maxWidth","index","resetFields","submit"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Apploader from '../../components/loader/loader'\r\nimport { connect } from 'dva';\r\nimport moment from 'moment';\r\n\r\nimport { Form, Select, Card, Typography, Alert, Input, Button, Table, Radio, Divider, Switch, Row, Col, Avatar, Pagination, Tabs, Modal, Badge, Popconfirm ,DatePicker} from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport AddEdit from './action/addEdit';\r\nimport { getTitleImage } from '../../utils/functions';\r\nconst { Search } = Input;\r\nconst { Text } = Typography;\r\nconst { TabPane } = Tabs;\r\nconst formItemLayout = { labelCol: { xs: { span: 24, }, sm: { span: 24, }, } };\r\n\r\n\r\n\r\nclass TimeTableList extends React.Component {\r\n\tformRef = React.createRef();\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlimit: 25,\r\n\t\t\tcurrent: 1,\r\n\t\t\tsortBy: 'asc',\r\n\t\t\taddModel: false,\r\n\t\t\tinactive: false,\r\n\t\t\tsearchText: '',\r\n\t\t\tloader: false,\r\n\t\t\tdetail: '',\r\n\t\t\tcount: 0,\r\n\t\t\tAddcount: 0,\r\n\t\t\tlistData: [],\r\n\t\t\tstream_list: [],\r\n\t\t\tyear_list: [],\r\n\t\t\tclass_list: [],\r\n\t\t\tsubject_list: [],\r\n\t\t\tteacher_list: [],\r\n\t\t\tsetStream: '',\r\n\t\t\tsetYear: '',\r\n\t\t\tsetClass: '',\r\n\t\t\tsetSubject: '',\r\n\r\n\r\n\r\n\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => document.title = 'Time Table List', 100,);\r\n\t\tthis.isUpdate = false;\r\n\r\n\t\r\n\t\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.ListFun();\r\n\r\n\t\r\n\t}\r\n\r\n\r\n\r\n\tListFun = async() => {\r\n\tlet data = \tawait this.props.dispatch({ type: 'time_tables/timeTableList', payload: {} });\r\n    const allData = data?.data\r\n\r\n\tif (allData.length > 0) {\r\n\t\tconst streamList = [...new Map(allData.map((item) => [item.streamInfo[0][\"name\"], item])).values(),];\r\n\t\tconst yearList = [...new Map(allData.map((item) => [item[\"year\"], item])).values(),];\r\n\t\tconst  classList = [...new Map(allData.map((item) => [item[\"class\"], item])).values(),];\r\n\t\tconst subjectList = [...new Map(allData.map((item) => [item.subjectInfo[\"subject_name\"], item])).values(),];\r\n\t\tconst teacherList = [...new Map(allData.map((item) => [item.userInfo[0][\"username\"], item])).values(),];\r\n\t\tthis.setState({ \r\n\t\t\tstream_list : streamList, \r\n\t\t\tyear_list : yearList ,\r\n\t\t\tclass_list : classList,\r\n\t\t\tsubject_list : subjectList,\r\n\t\t\tteacher_list : teacherList,\r\n\t\t})\r\n\t}\r\n\r\n\t}\r\n\r\n\r\n\tShowSizeChange = (current, size) => this.setState({ limit: size }, () => this.ListFun());\r\n\tswitchFun = (val) => this.setState({ inactive: val }, () => this.ListFun());\r\n\tChangeOrder = (val) => this.setState({ sortBy: this.state.sortBy === 'asc' ? 'desc' : 'asc' }, () => this.ListFun());\r\n\r\n\tsearchVal = (val) => {\r\n\t\tthis.state.searchText = val;\r\n\t\tconst resultAutos = this.props.time_tables.list.filter((auto) =>\r\n\t\t\tauto.streamInfo[0].name.toLowerCase().includes(val.toLowerCase()) ||\r\n\t\t\tauto.subjectInfo.subject_name.toLowerCase().includes(val.toLowerCase())\r\n\t\t)\r\n\t\tthis.setState({ listData: resultAutos })\r\n\t}\r\n\r\n\tcreateCat = (val) => {\r\n\t\tif (val) { this.ListFun() }\r\n\t\tthis.setState({ detail: '', addModel: false })\r\n\t}\r\n\r\n\tdeletetime_tables = id => {\r\n\t\tthis.props.dispatch({ type: 'time_tables/deleteTimeTable', payload: id });\r\n\t}\r\n\r\n\tgetSnapshotBeforeUpdate(prevProps, prevState) {\r\n\t\tif (this.props.time_tables.delete) {\r\n\t\t\tthis.props.dispatch({ type: 'time_tables/clearAction' });\r\n\t\t\tthis.ListFun();\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\t// console.log('prevProps' ,prevProps)\r\n\t\t// console.log('prevState' ,prevState)\r\n\t\t// console.log('snapshot' ,snapshot)\r\n\r\n\r\n\t\tif (snapshot) {\r\n\t\t}\r\n\t}\r\n\r\n\tonStreamChange = (e) => {\r\n\t\tconst year_list = [...new Map(this.state.listData && this.state.listData.filter((item) => item.streamInfo[0]._id === e).map((item) => [item[\"year\"], item])).values(),];\r\n\t\tthis.setState({ year_list: year_list, setStream: e ,listData : year_list })\t\r\n\t}\r\n\r\n\tonYearChange = (e) => {\r\n\t\tconst class_list = [...new Map(this.state.listData && this.state.listData.filter((item) => item.year === e && item.stream_id === this.state.setStream).map((item) => [item[\"class\"], item])).values(),];\r\n\t\tthis.setState({ class_list: class_list, setYear: e })\r\n\r\n\t}\r\n\tonClassChange = (e) => {\r\n\t\tconst subject_list = [...new Map(this.state.listData && this.state.listData.filter((item) => item.class === e && item.year === this.state.setYear && item.stream_id === this.state.setStream).map((item) => [item.subjectInfo[\"subject_name\"], item])).values(),];\r\n\t\tthis.setState({ subject_list: subject_list, setClass: e })\r\n\t}\r\n\r\n\tonSubjectChange = (e) => {\r\n\t\tconst teacher_list = [...new Map(this.state.listData && this.state.listData.filter((item) => item.subjectInfo._id === e && item.class === this.state.setClass && item.year === this.state.setYear && item.stream_id === this.state.setStream).map((item) => [item.userInfo[0][\"username\"], item])).values(),];\r\n\t\tthis.setState({ teacher_list: teacher_list, })\r\n\t}\r\n\r\n\thandleSubmit = async(val) => {\r\n\tconsole.log('val' ,val)\r\n\tlet data = \tawait this.props.dispatch({ type: 'time_tables/timeTableList', payload: val });\r\n\t}\r\n\r\n\t\r\n\r\n\trender() {\r\n\t\tconst { inactive, limit, searchText, addModel, detail } = this.state;\r\n\t\r\n\t\tlet allData = this.props?.time_tables?.list\r\n\r\n\t\t\r\n\r\n\t\tconst { time_tables } = this.props;\r\n\t\tif (this.state.searchText == '') {\r\n\t\t\tthis.state.listData = time_tables.list ? time_tables.list : [];\r\n\t\t}\r\n\r\n\t\tif (allData.length > 0) {\r\n\t\t\tconst streamList = [...new Map(allData.map((item) => [item.streamInfo[0][\"name\"], item])).values(),];\r\n\t\t\tconst yearList = [...new Map(allData.map((item) => [item[\"year\"], item])).values(),];\r\n\t\t\tconst  classList = [...new Map(allData.map((item) => [item[\"class\"], item])).values(),];\r\n\t\t\tconst subjectList = [...new Map(allData.map((item) => [item.subjectInfo[\"subject_name\"], item])).values(),];\r\n\t\t\tconst teacherList = [...new Map(allData.map((item) => [item.userInfo[0][\"username\"], item])).values(),];\r\n\t\t\t// this.state.stream_list = streamList\r\n\t\t\t// this.state.year_list = yearList\r\n\t\t\t// this.state.class_list = classList\r\n\t\t\t// this.state.subject_list = subjectList\r\n\t\t\t// this.state.teacher_list = teacherList\r\n\t\t}\r\n\r\n\t\tconst columns = [\r\n\r\n\t\t\t{\r\n\t\t\t\ttitle: <strong>Stream Names</strong>, dataIndex: 'streamInfo',\r\n\r\n\t\t\t\trender: (value, row) => {\r\n\t\t\t\t\treturn <span>{value[0]?.name}</span>\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: <strong>Year</strong>,\r\n\t\t\t\tdataIndex: 'year'\r\n\t\t\t}, {\r\n\t\t\t\ttitle: <strong>class</strong>,\r\n\t\t\t\tdataIndex: 'class'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: <strong>Subject Name</strong>, dataIndex: 'subjectInfo',\r\n\t\t\t\trender: (value, row) => {\r\n\t\t\t\t\treturn <span>{value?.subject_name}</span>\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: <strong>Teacher Name</strong>, dataIndex: 'userInfo',\r\n\t\t\t\trender: (value, row) => {\r\n\t\t\t\t\treturn <span>{value[0]?.username}</span>\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: <strong>Start Time</strong>, dataIndex: 'startTime',\r\n\t\t\t\trender: (value, row) => {\r\n\t\t\t\t\treturn <span>{moment(value).format(\"hh:mm a\")}</span>\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: <strong>End Time</strong>, dataIndex: 'endTime',\r\n\t\t\t\trender: (value, row) => {\r\n\t\t\t\t\treturn <span>{moment(value).format(\"hh:mm a\")}</span>\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: <strong>Date</strong>, dataIndex: 'date',\r\n\t\t\t\trender: (value, row) => {\r\n\t\t\t\t\treturn <span>{moment(value).format(\"DD-MM-year\")}</span>\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: <strong>Action</strong>, align: 'center',\r\n\t\t\t\trender: (val, data) => <div onClick={e => e.stopPropagation()}>\r\n\t\t\t\t\t<Button type=\"default\" className=\"edit_btn\" onClick={() => { this.props.history.push('/time-table/edit/' + data._id) }}><EditOutlined /></Button>\r\n\t\t\t\t\t<Popconfirm title=\"Are you sure delete this time table?\" onConfirm={e => { this.deletetime_tables(data._id); e.stopPropagation() }} okText=\"Yes\" cancelText=\"No\" >\r\n\t\t\t\t\t\t<Button type=\"danger\" ><DeleteOutlined /></Button>\r\n\t\t\t\t\t</Popconfirm>\r\n\t\t\t\t</div>\r\n\t\t\t},\r\n\t\t];\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Apploader show={this.props.loading.global} />\r\n\t\t\t\t<Row className=\"TopActionBar\" gutter={[16, 0]} justify=\"space-between\" align=\"middle\">\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Search placeholder=\"Search...\" onChange={(e) => this.searchVal(e.target.value)} value={searchText} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.props.history.push('/time-table/add')}>Add</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<div className=\"innerContainer\">\r\n\t\t\t\t\t<Card style={{ marginTop: \"0\" }} bodyStyle={{ padding: '0 15px 15px' }}>\r\n\t\t\t\t\t\t<Table columns={columns}\r\n\t\t\t\t\t\t\tdataSource={this.state.listData}\r\n\t\t\t\t\t\t\trowKey={record => record._id}\r\n\t\t\t\t\t\t\tonRow={(record, rowIndex) => {\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t// onClick: event => this.setState({ addModel: true, detail: record })\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tpagination={{\r\n\t\t\t\t\t\t\t\tposition: ['bottomLeft'],\r\n\t\t\t\t\t\t\t\tshowTotal: (total, range) => <Text type=\"secondary\">{`Showing ${range[0]}-${range[1]} of ${total}`}</Text>, showSizeChanger: true,\r\n\t\t\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t\t\t\tonShowSizeChange: (current, size) => this.ShowSizeChange(current, size),\r\n\t\t\t\t\t\t\t\tpageSizeOptions: ['10', '25', '50', '100', '250', '500'],\r\n\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tloading={this.props.loading.global}\r\n\t\t\t\t\t\t\ttitle={() => {\r\n\t\t\t\t\t\t\t\treturn <>\r\n\r\n\t\t\t\t\t\t\t\t\t<Form ref={this.formRef} {...formItemLayout} className=\"bg-light\" style={{ maxWidth: '100%' }} layout=\"vertical\" onFinish={this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t<Row gutter={15}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"stream_id\" label=\"Stream Name\"   >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Select placeholder=\"Select Stream\" onChange={(e) => this.onStreamChange(e)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.stream_list && this.state.stream_list.map((item, index) => {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Select.Option key={index} value={item?.streamInfo[0]?._id}>{item?.streamInfo[0]?.name}</Select.Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"year\" label=\"Year\"   >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Select placeholder=\"Select Year\" onChange={(e) => this.onYearChange(e)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.year_list && this.state.year_list.map((item, index) => <Select.Option key={index} value={item?.year}>{item?.year}</Select.Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"class_name\" label=\"Class\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Select placeholder=\"Select Class\" onChange={(e) => this.onClassChange(e)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.class_list && this.state.class_list.map((item, index) => <Select.Option key={index} value={item?.class}>{item?.class}</Select.Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t<Row gutter={15}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"subject_id\" label=\"Subject\"   >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Select placeholder=\"Select Subject\" onChange={(e) => this.onSubjectChange(e)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.subject_list && this.state.subject_list.map((item, index) => <Select.Option key={index} value={item?.subjectInfo?._id}>{item?.subjectInfo?.subject_name}</Select.Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"teacher_id\" label=\"Teacher\"   >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Select placeholder=\"Select Teacher\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.teacher_list && this.state.teacher_list.map((item, index) => <Select.Option key={index} value={item?.userInfo[0]?._id}>{item?.userInfo[0]?.username}</Select.Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"date\" label=\"Select Date\"   >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker z  />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.ListFun();\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.formRef.current.resetFields()}} >Reset</Button>&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"primary\" className=\"btn-w25 btn-primary-light\" onClick={() => this.formRef.current.submit()} >Filter</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t}}\r\n\r\n\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default connect(({ time_tables, loading }) => ({\r\n\ttime_tables, loading\r\n}))(TimeTableList);"]},"metadata":{},"sourceType":"module"}
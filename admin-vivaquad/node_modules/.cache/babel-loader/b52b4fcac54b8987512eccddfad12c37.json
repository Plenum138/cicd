{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import'./AppSidebar.less';import{DashboardOutlined,BarsOutlined,CoffeeOutlined,CodeOutlined,TeamOutlined,SubnodeOutlined,ProfileOutlined,BankOutlined,NotificationOutlined,BellOutlined,SettingOutlined,UserOutlined,ContactsOutlined,AppstoreOutlined,UserAddOutlined,SnippetsOutlined,BookOutlined,InboxOutlined,MessageOutlined,CalendarOutlined}from'@ant-design/icons';import{Menu}from'antd';import axios from'axios';import{Modal}from'antd';var SubMenu=Menu.SubMenu;var baseUrl=process.env.REACT_APP_ApiUrl;var menu=[{path:'/',name:'Dashboard',icon:/*#__PURE__*/React.createElement(DashboardOutlined,null),auth:['ADMIN','SUBADMIN']},{path:'#',name:'Student Managment',icon:/*#__PURE__*/React.createElement(TeamOutlined,null),auth:['ADMIN','SUBADMIN'],children:[{path:'/students',name:'Student List',icon:/*#__PURE__*/React.createElement(TeamOutlined,null),auth:['ADMIN','SUBADMIN']}]},{path:'#',name:'Sub Admin Managment',icon:/*#__PURE__*/React.createElement(TeamOutlined,null),auth:['ADMIN'],children:[{path:'/subadmins',name:'Sub Admin List',icon:/*#__PURE__*/React.createElement(TeamOutlined,null),auth:['ADMIN']}]},{path:'#',name:'Employee Managment',icon:/*#__PURE__*/React.createElement(TeamOutlined,null),auth:['SUBADMIN'],children:[{path:'/employees',name:'Employee List',icon:/*#__PURE__*/React.createElement(TeamOutlined,null),auth:['SUBADMIN']}]},{path:'#',name:'Class Management',icon:/*#__PURE__*/React.createElement(TeamOutlined,null),auth:['SUBADMIN'],children:[{path:'/time-tables',name:'Time Table',icon:/*#__PURE__*/React.createElement(CalendarOutlined,null),auth:['SUBADMIN']}// { path: '/settings', name: 'Settings', icon: <CodeOutlined />, auth: ['ADMIN'] }, \n]},{path:'#',name:'Master',icon:/*#__PURE__*/React.createElement(TeamOutlined,null),auth:['ADMIN','SUBADMIN'],children:[{path:'/roles',name:'Employee Role',icon:/*#__PURE__*/React.createElement(UserOutlined,null),auth:['ADMIN']},{path:'/streams',name:'Streams',icon:/*#__PURE__*/React.createElement(BookOutlined,null),auth:['ADMIN']},{path:'/classes',name:'Class',icon:/*#__PURE__*/React.createElement(BarsOutlined,null),auth:['SUBADMIN']},{path:'/lunches',name:'Lunch Hall',icon:/*#__PURE__*/React.createElement(CoffeeOutlined,null),auth:['SUBADMIN']},{path:'/subjects',name:'Subject',icon:/*#__PURE__*/React.createElement(SubnodeOutlined,null),auth:['SUBADMIN']}]},{path:'#',name:'Brodecasting Management',icon:/*#__PURE__*/React.createElement(TeamOutlined,null),auth:['SUBADMIN'],children:[{path:'/announcements',name:'Announcement',icon:/*#__PURE__*/React.createElement(NotificationOutlined,null),auth:['SUBADMIN']}// { path: '/settings', name: 'Settings', icon: <CodeOutlined />, auth: ['ADMIN'] }, \n]},{path:'#',name:'CMS Management',icon:/*#__PURE__*/React.createElement(TeamOutlined,null),auth:['ADMIN'],children:[{path:'/pages',name:'Pages',icon:/*#__PURE__*/React.createElement(CodeOutlined,null),auth:['ADMIN']}// { path: '/settings', name: 'Settings', icon: <CodeOutlined />, auth: ['ADMIN'] }, \n]}];var AppSidebar=/*#__PURE__*/function(_Component){_inherits(AppSidebar,_Component);var _super=_createSuper(AppSidebar);function AppSidebar(props){var _this;_classCallCheck(this,AppSidebar);_this=_super.call(this,props);_this.getSingleSettingData=function(cards,id){var result;if(cards!=undefined){cards.map(function(item,key){if(item.option===id){result=item.value;}});}return result;};_this.getSiteSettingData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _res$data,_res$data2,_res$data3,_res$data3$user_detai,user_id,res,settings,userStatus,maintenanceMode,user_detail,user_status;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;user_id=localStorage.getItem('userId');_context.next=4;return axios.post(\"\".concat(baseUrl,\"/api/list/setting\"),{_id:user_id});case 4:res=_context.sent;settings=res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.settings;userStatus=_this.getSingleSettingData(settings,'userStatus');maintenanceMode=_this.getSingleSettingData(settings,'SELLER_WEB_UNDER_MAINTENANCE');user_detail=res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.user_detail;user_status=res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:(_res$data3$user_detai=_res$data3.user_detail)===null||_res$data3$user_detai===void 0?void 0:_res$data3$user_detai.user_status;_this.setState({isVerify:user_status});console.info('user_status',user_status);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));_this.handleRedirect=function(path){var user_role=localStorage.getItem('role');if(user_role!=\"ADMIN\"){_this.getSiteSettingData();}_this.props.history.push(path);};_this.state={maintenanceModeModal:false,isVerify:false};return _this;}_createClass(AppSidebar,[{key:\"componentDidMount\",value:function componentDidMount(){this.getSiteSettingData();}},{key:\"render\",value:function render(){var _this2=this;var location=this.props.location;var pathSnippets=location.pathname.split('/').filter(function(i){return i;});var pathval=pathSnippets[pathSnippets.length-1]||'';var routepath=pathval?'/'+pathval:'/';return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Menu,{mode:\"inline\",defaultSelectedKeys:[routepath],defaultOpenKeys:[''],selectedKeys:[routepath],theme:\"dark\"},menu.map(function(item){if(item.auth.find(function(val){return val===localStorage.getItem('role');})&&_this2.state.isVerify){if(item.children){return/*#__PURE__*/React.createElement(SubMenu,{className:\"submenu\",key:item.name,title:item.name},item.children.map(function(itemd,index){if(itemd.auth.find(function(val){return val===localStorage.getItem('role');})){return/*#__PURE__*/React.createElement(Menu.Item,{key:itemd.path},/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){_this2.handleRedirect(itemd.path);}},itemd.img?/*#__PURE__*/React.createElement(\"img\",{src:itemd.img,alt:itemd.name}):itemd.icon,/*#__PURE__*/React.createElement(\"span\",{style:{marginLeft:'5'}},itemd.name)));}}));}else{return/*#__PURE__*/React.createElement(Menu.Item,{key:item.path},/*#__PURE__*/React.createElement(\"a\",{// to={item.path}\nonClick:function onClick(){_this2.handleRedirect(item.path);}},item.img?/*#__PURE__*/React.createElement(\"img\",{src:item.img,alt:item.name}):item.icon,/*#__PURE__*/React.createElement(\"span\",{style:{marginLeft:'5'}},item.name)));}}})));}}]);return AppSidebar;}(Component);export default AppSidebar;","map":{"version":3,"sources":["/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/src/components/Sidebar/AppSidebar.js"],"names":["React","Component","Link","DashboardOutlined","BarsOutlined","CoffeeOutlined","CodeOutlined","TeamOutlined","SubnodeOutlined","ProfileOutlined","BankOutlined","NotificationOutlined","BellOutlined","SettingOutlined","UserOutlined","ContactsOutlined","AppstoreOutlined","UserAddOutlined","SnippetsOutlined","BookOutlined","InboxOutlined","MessageOutlined","CalendarOutlined","Menu","axios","Modal","SubMenu","baseUrl","process","env","REACT_APP_ApiUrl","menu","path","name","icon","auth","children","AppSidebar","props","getSingleSettingData","cards","id","result","undefined","map","item","key","option","value","getSiteSettingData","user_id","localStorage","getItem","post","_id","res","settings","data","userStatus","maintenanceMode","user_detail","user_status","setState","isVerify","console","info","log","handleRedirect","user_role","history","push","state","maintenanceModeModal","location","pathSnippets","pathname","split","filter","i","pathval","length","routepath","find","val","itemd","index","img","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport './AppSidebar.less'\r\nimport {DashboardOutlined, BarsOutlined, CoffeeOutlined, CodeOutlined, TeamOutlined, SubnodeOutlined, ProfileOutlined, BankOutlined, NotificationOutlined, BellOutlined, SettingOutlined, UserOutlined, ContactsOutlined ,AppstoreOutlined, UserAddOutlined, SnippetsOutlined, BookOutlined, InboxOutlined, MessageOutlined ,CalendarOutlined  } from '@ant-design/icons';\r\nimport { Menu, } from 'antd';\r\nimport axios from 'axios';\r\nimport {Modal} from 'antd';\r\nconst { SubMenu } = Menu;\r\nconst baseUrl = process.env.REACT_APP_ApiUrl;\r\nconst menu = [\r\n\t{ path: '/', name: 'Dashboard', icon: <DashboardOutlined />, auth: ['ADMIN' , 'SUBADMIN'] },\r\n\t{\r\n\t\tpath: '#', name: 'Student Managment', icon: <TeamOutlined />, auth: ['ADMIN' , 'SUBADMIN'], children: [\r\n\t\t\t{ path: '/students', name: 'Student List', icon: <TeamOutlined />, auth: ['ADMIN' , 'SUBADMIN'] },\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '#', name: 'Sub Admin Managment', icon: <TeamOutlined />, auth: ['ADMIN'], children: [\r\n\t\t\t{ path: '/subadmins', name: 'Sub Admin List', icon: <TeamOutlined />, auth: ['ADMIN'] },\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '#', name: 'Employee Managment', icon: <TeamOutlined />, auth: ['SUBADMIN'], children: [\r\n\t\t\t{ path: '/employees', name: 'Employee List', icon: <TeamOutlined />, auth: ['SUBADMIN'] },\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '#', name: 'Class Management', icon: <TeamOutlined />, auth: [ 'SUBADMIN'], children: [\r\n\t\t\t{ path: '/time-tables', name: 'Time Table', icon: <CalendarOutlined />, auth: [ 'SUBADMIN'] }, \r\n\r\n\t\t\t// { path: '/settings', name: 'Settings', icon: <CodeOutlined />, auth: ['ADMIN'] }, \r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '#', name: 'Master', icon: <TeamOutlined />, auth: ['ADMIN' ,'SUBADMIN'], children: [\r\n\t\t\t{ path: '/roles', name: 'Employee Role', icon: <UserOutlined />, auth: ['ADMIN'] }, \r\n\t\t\t{ path: '/streams', name: 'Streams', icon: <BookOutlined />, auth: ['ADMIN'] }, \r\n\t\t\t{ path: '/classes', name: 'Class', icon: <BarsOutlined />, auth: ['SUBADMIN'] }, \r\n\t\t\t{ path: '/lunches', name: 'Lunch Hall', icon: <CoffeeOutlined />, auth: ['SUBADMIN'] }, \r\n\t\t\t{ path: '/subjects', name: 'Subject', icon: <SubnodeOutlined />, auth: ['SUBADMIN'] }, \r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\r\n\t\t]\r\n\t},\r\n\r\n\t{\r\n\t\tpath: '#', name: 'Brodecasting Management', icon: <TeamOutlined />, auth: [ 'SUBADMIN'], children: [\r\n\t\t\t{ path: '/announcements', name: 'Announcement', icon: <NotificationOutlined />, auth: [ 'SUBADMIN'] }, \r\n\r\n\t\t\t// { path: '/settings', name: 'Settings', icon: <CodeOutlined />, auth: ['ADMIN'] }, \r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t]\r\n\t},\r\n\r\n\t{\r\n\t\tpath: '#', name: 'CMS Management', icon: <TeamOutlined />, auth: ['ADMIN' ], children: [\r\n\t\t\t{ path: '/pages', name: 'Pages', icon: <CodeOutlined />, auth: ['ADMIN' ] }, \r\n\r\n\t\t\t// { path: '/settings', name: 'Settings', icon: <CodeOutlined />, auth: ['ADMIN'] }, \r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t]\r\n\t},\r\n\t\r\n\t\r\n]\r\n\r\nclass AppSidebar extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t  maintenanceModeModal: false ,\r\n\t\t  isVerify: false\r\n\r\n\t\t}\r\n\t  }\r\n\t  \r\n\tcomponentDidMount() {\r\n\t\tthis.getSiteSettingData();\t\r\n\t}\r\n\t\r\ngetSingleSettingData = (cards, id) => {\r\n\t\tlet result;\r\n\t\tif (cards != undefined) {\r\n\t\t\tcards.map((item, key) => {\r\n\t\t\t\tif (item.option === id) {\r\n\t\t\t\t\tresult = item.value;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\r\n\tgetSiteSettingData = async () => {\r\n\t\ttry {\r\n\t\t\r\n\t\t\tlet user_id = localStorage.getItem('userId');\r\n\t\t\tconst res = await axios.post(`${baseUrl}/api/list/setting`, { _id: user_id });\r\n\t\t\tlet settings = res?.data?.settings;\r\n\t\t\tlet userStatus = this.getSingleSettingData(settings, 'userStatus');\r\n\t\t\tlet maintenanceMode = this.getSingleSettingData(settings, 'SELLER_WEB_UNDER_MAINTENANCE');\t\t\r\n\t\t\tlet user_detail =  res?.data?.user_detail;\r\n\t\t\tlet user_status =  res?.data?.user_detail?.user_status;\r\n\r\n\t\t\tthis.setState({isVerify : user_status})\r\n\t\t\tconsole.info('user_status' ,user_status)\r\n\t\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t};\r\n\thandleRedirect = (path) => {\r\n\r\n\tlet user_role  = localStorage.getItem('role');\r\n\tif(user_role != \"ADMIN\") {\r\n\t\tthis.getSiteSettingData();\r\n\t}\r\n\tthis.props.history.push(path)\r\n}\r\n\r\n\trender() {\r\n\t\tconst { location } = this.props;\r\n\t\tconst pathSnippets = location.pathname.split('/').filter(i => i);\r\n\t\tconst pathval = pathSnippets[pathSnippets.length - 1] || '';\r\n\t\tconst routepath = pathval ? '/' + pathval : '/';\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t<Menu mode=\"inline\" defaultSelectedKeys={[routepath]}\r\n\t\t\t\tdefaultOpenKeys={['']} selectedKeys={[routepath]} theme=\"dark\">\r\n\t\t\t\t \r\n\t\t\t\t{menu.map((item) => {\r\n\t\t\t\t\r\n\t\t\t\t\tif (item.auth.find(val => val === localStorage.getItem('role')) && this.state.isVerify) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(item.children){\r\n\t\t\t\t\t\t\treturn ( <SubMenu className=\"submenu\"  key={item.name} title={item.name} >\r\n\t\t\t\t\t\t\t\t\t{ item.children.map((itemd, index) => {\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (itemd.auth.find(val => val === localStorage.getItem('role'))) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn ( <Menu.Item  key={itemd.path}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a onClick={() => { this.handleRedirect(itemd.path) }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{itemd.img ? <img src={itemd.img} alt={itemd.name} /> : itemd.icon}\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ marginLeft: '5' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{itemd.name} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item> )\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\t}\t\r\n\t\t\t\t\t\t\t</SubMenu> )\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn (<Menu.Item key={item.path}><a \r\n\t\t\t\t\t\t\t// to={item.path}\r\n\t\t\t\t\t\t\tonClick={() => { this.handleRedirect(item.path) }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item.img ? <img src={item.img} alt={item.name} /> : item.icon}\r\n\t\t\t\t\t\t\t\t<span style={{ marginLeft: '5' }}>\r\n\r\n\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</a></Menu.Item>);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Menu>\r\n\r\n\r\n\r\n\r\n</>\r\n\t\t);\r\n\t}\r\n}\r\nexport default AppSidebar;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/plenum/Desktop/react-native/vivaquad/admin-backend/admin-vivaquad/src/pages/payments/payment.js\";\nimport React, { useState, useEffect } from 'react'; // import CheckoutForm from './CheckoutForm';\n\nimport StripeCheckout from 'react-stripe-checkout';\nimport axios from 'axios'; // import { Alert } from 'antd';\n\nconst baseUrl = process.env.REACT_APP_ApiUrl;\n\nconst PaymentPage = props => {\n  const [paymentCompleted, setPaymentCompleted] = useState(false);\n  useEffect(() => {\n    console.log('props', props);\n    props.history.push('/register'); // props.history.push('/login')\n  }, []);\n\n  const handleToken = async (token, addresses) => {\n    // console.log({token, addresses})\n    let user = JSON.parse(localStorage.getItem(\"user\"));\n    const res = await axios.post(`${baseUrl}/api/stripe-pay`, {\n      token,\n      addresses,\n      user\n    });\n\n    if (res.data.status) {\n      alert(res.data.message);\n      console.log('working');\n      props.history.push('/login');\n    } else {\n      alert(\"Something Weny Wrong\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-5 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, \"Stripe Payment \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row s-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5 order-md-2 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-7 order-md-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"d-flex justify-content-between align-items-center mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 8\n    }\n  }, \"Pay with card\")), /*#__PURE__*/React.createElement(StripeCheckout, {\n    stripeKey: \"pk_test_51Iug0ySBeksr324AnMsGUjac2svTFYwB40ldkaFwrNbn88BX5cK4cjgzTTWE9jVjP6OSEfRMcdyGDePVCmVKPYOC00wh7XcBk7\",\n    token: handleToken,\n    billingAddress: true,\n    shippingAddress: true,\n    amount: 20 * 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  })))));\n};\n\nexport default PaymentPage;","map":{"version":3,"sources":["/Users/plenum/Desktop/react-native/vivaquad/admin-backend/admin-vivaquad/src/pages/payments/payment.js"],"names":["React","useState","useEffect","StripeCheckout","axios","baseUrl","process","env","REACT_APP_ApiUrl","PaymentPage","props","paymentCompleted","setPaymentCompleted","console","log","history","push","handleToken","token","addresses","user","JSON","parse","localStorage","getItem","res","post","data","status","alert","message"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C,C,CACA;;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,gBAA5B;;AAIA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAC9B,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CX,QAAQ,CAAC,KAAD,CAAxD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACTW,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,KAArB;AACAA,IAAAA,KAAK,CAACK,OAAN,CAAcC,IAAd,CAAmB,WAAnB,EAFS,CAGT;AACH,GAJK,EAIH,EAJG,CAAT;;AAMA,QAAMC,WAAW,GAAG,OAAOC,KAAP,EAAcC,SAAd,KAA4B;AACzC;AAEA,QAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAX;AAEA,UAAMC,GAAG,GAAG,MAAMrB,KAAK,CAACsB,IAAN,CAAY,GAAErB,OAAQ,iBAAtB,EAAwC;AAAEa,MAAAA,KAAF;AAASC,MAAAA,SAAT;AAAoBC,MAAAA;AAApB,KAAxC,CAAlB;;AAEA,QAAGK,GAAG,CAACE,IAAJ,CAASC,MAAZ,EAAoB;AAChBC,MAAAA,KAAK,CAACJ,GAAG,CAACE,IAAJ,CAASG,OAAV,CAAL;AACAjB,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAJ,MAAAA,KAAK,CAACK,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACH,KAJD,MAIM;AACFa,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACH;AACJ,GAdJ;;AAiBA,sBAEC;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADD,CADD,eAKC;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEC;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAKC;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAI,IAAA,SAAS,EAAC,wDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAM,IAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,CADD,eAIC,oBAAC,cAAD;AACC,IAAA,SAAS,EAAC,6GADX;AAEC,IAAA,KAAK,EAAEZ,WAFR;AAGC,IAAA,cAAc,MAHf;AAIC,IAAA,eAAe,MAJhB;AAKC,IAAA,MAAM,EAAE,KAAK,GALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJD,CAJD,CALD,CALD,CAFD;AAsCA,CAhED;;AAmEA,eAAeR,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\n// import CheckoutForm from './CheckoutForm';\nimport StripeCheckout from 'react-stripe-checkout';\nimport axios from 'axios';\n// import { Alert } from 'antd';\n\nconst baseUrl = process.env.REACT_APP_ApiUrl;\n\n\n\nconst PaymentPage = (props) => {\n\tconst [paymentCompleted, setPaymentCompleted] = useState(false);\n\n\tuseEffect(() => {\n        console.log('props', props)\n        props.history.push('/register');\n        // props.history.push('/login')\n    }, [])\n\n\tconst handleToken = async (token, addresses) => {\n        // console.log({token, addresses})\n\n        let user = JSON.parse(localStorage.getItem(\"user\"))\n\n        const res = await axios.post(`${baseUrl}/api/stripe-pay`, { token, addresses, user });\n\n        if(res.data.status) {\n            alert(res.data.message)\n            console.log('working')\n            props.history.push('/login');\n        }else {\n            alert(\"Something Weny Wrong\")\n        }\n    }\n\n\n\treturn (\n\n\t\t<div className=\"container\">\n\t\t\t<div className=\"py-5 text-center\">\n\t\t\t\t<h4>Stripe Payment </h4>\n\t\t\t</div>\n\n\t\t\t<div className=\"row s-box\">\n\n\t\t\t\t<div className=\"col-md-5 order-md-2 mb-4\">\n\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-md-7 order-md-1\">\n\n\t\t\t\t\t{/* <CheckoutForm amount={2000} setPaymentCompleted={setPaymentCompleted} /> */}\n\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<h4 className=\"d-flex justify-content-between align-items-center mb-3\">\n\t\t\t\t\t\t\t<span className=\"text-muted\">Pay with card</span>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<StripeCheckout\n\t\t\t\t\t\t\tstripeKey='pk_test_51Iug0ySBeksr324AnMsGUjac2svTFYwB40ldkaFwrNbn88BX5cK4cjgzTTWE9jVjP6OSEfRMcdyGDePVCmVKPYOC00wh7XcBk7'\n\t\t\t\t\t\t\ttoken={handleToken}\n\t\t\t\t\t\t\tbillingAddress\n\t\t\t\t\t\t\tshippingAddress\n\t\t\t\t\t\t\tamount={20 * 100}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t</React.Fragment>\n\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t</div>\n\n\n\t)\n}\n\n\nexport default PaymentPage;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _toConsumableArray from\"/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef,Fragment}from'react';import{Row,Col,Empty,Modal,Card,Typography,Alert,Form,Input,Checkbox,Button,Space,Upload,Dropdown,Menu,Select,notification,Transfer,DatePicker,Avatar,message,InputNumber}from'antd';import{LeftOutlined,LoadingOutlined,MailOutlined,CloseOutlined,PlusOutlined,MinusCircleOutlined,MobileOutlined}from'@ant-design/icons';import CropImage from'../../../components/sharing/crop-image';import TextEditor from'../../../components/sharing/text-editor';import moment from'moment';import{connect}from'dva';import MultiImageInput from'react-multiple-image-input';var dateFormat='MM/DD/YYYY';var formItemLayout={labelCol:{xs:{span:24},sm:{span:24}}};var AddEditEmployee=function AddEditEmployee(props){var _props$roles,_props$roles$list,_props$roles$list$dat;var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var idAdd=props.match.params.id===undefined?true:false;var dispatch=props.dispatch;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),gallaryImagesList=_useState2[0],setGallaryImagesList=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),ecount=_useState6[0],setECount=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),btnDis=_useState8[0],setBtnDis=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),galleryImageUriList=_useState10[0],setGalleryImageUriList=_useState10[1];var roleList=[];if((props===null||props===void 0?void 0:(_props$roles=props.roles)===null||_props$roles===void 0?void 0:(_props$roles$list=_props$roles.list)===null||_props$roles$list===void 0?void 0:(_props$roles$list$dat=_props$roles$list.data)===null||_props$roles$list$dat===void 0?void 0:_props$roles$list$dat.length)>0){var _props$roles2,_props$roles2$list;roleList=props===null||props===void 0?void 0:(_props$roles2=props.roles)===null||_props$roles2===void 0?void 0:(_props$roles2$list=_props$roles2.list)===null||_props$roles2$list===void 0?void 0:_props$roles2$list.data;}console.log('roleList',roleList);useEffect(function(){var unmounted=false;window.scroll(0,0);props.dispatch({type:'roles/roleListEmployee'});if(props.match.params.id){DetailFun(props.match.params.id);}else{form.resetFields();}return function(){unmounted=true;};},[dispatch]);useEffect(function(){var unmounted=false;return function(){unmounted=true;};},[props.users]);var DetailFun=function DetailFun(id){props.dispatch({type:'users/getDetail',payload:{_id:id,profile_id:id}});};var convertToFormData=function convertToFormData(values){var user_id=localStorage.getItem('userId');var formData=new FormData();formData.append(\"avatar\",values.avatar);formData.append(\"dob\",values.dob);formData.append(\"email\",values.email);formData.append(\"employee_type\",values.employee_type);formData.append(\"mobile_number\",values.mobile_number);formData.append(\"username\",values.username);formData.append(\"user_id\",user_id);return formData;};var onFinish=function onFinish(val){if(gallaryImagesList.length===0){return message.error('please upload profile image');}val.avatar=gallaryImagesList[0];var formData=convertToFormData(val);if(props.match.params.id){formData.append('_id',props.match.params.id);dispatch({type:'users/editEmployee',payload:formData});}else{dispatch({type:'users/addEmployee',payload:formData});}};useEffect(function(){var unmounted=false;var add=props.users.add;if(!unmounted&&add.count>count&&add&&add.status){props.dispatch({type:'users/clearAction'});setBtnDis(false);cancelFun();props.history.push('/employees');}else if(!unmounted&&add.count>count&&add&&!add.status){setBtnDis(false);setCount(add.count);}// Edit\nvar edit=props.users.edit;if(!unmounted&&edit.count>ecount&&edit.status){props.dispatch({type:'users/clearAction'});setECount(edit.count);setBtnDis(false);cancelFun();props.history.push('/employees');}else if(!unmounted&&edit.count>ecount&&!edit.status){setBtnDis(false);setECount(edit.count);}// detail\nif(props.match.params.id){var detail=props.users.detail;if(!unmounted&&detail&&detail.status){var _form$setFieldsValue;var data=detail.userLogin;form.setFieldsValue((_form$setFieldsValue={},_defineProperty(_form$setFieldsValue,'username',data.username),_defineProperty(_form$setFieldsValue,'email',data.email),_defineProperty(_form$setFieldsValue,'mobile_number',data.mobile_number),_defineProperty(_form$setFieldsValue,'employee_type',data.employee_type),_defineProperty(_form$setFieldsValue,'dob',moment(new Date(data.dob)||null,dateFormat)),_form$setFieldsValue));var images=[{file:data.avatar}];console.log('images',images);setGalleryImageUriList(images.map(function(galImg){return galImg.file;}));setGallaryImagesList(images.map(function(galImg){return galImg.file;}));}else if(!unmounted&&detail&&!detail.status){setBtnDis(false);}}return function(){unmounted=true;};},[props.users]);var cancelFun=function cancelFun(){form.resetFields();props.history.push('/employees');};var dataURLtoFile=function dataURLtoFile(dataurl,filename){var arr=dataurl.split(','),mime=arr[0].match(/:(.*?);/)[1],bstr=atob(arr[1]),n=bstr.length,u8arr=new Uint8Array(n);while(n--){u8arr[n]=bstr.charCodeAt(n);}return new File([u8arr],filename,{type:mime});};var onUploadGallery=function onUploadGallery(data){var images=Object.values(data).map(function(image,i){if(image.startsWith(process.env.REACT_APP_ApiUrl)){return image;}else{return dataURLtoFile(image,'image_'+i);}});setGalleryImageUriList(data);setGallaryImagesList(_toConsumableArray(images));};return/*#__PURE__*/React.createElement(Card,{title:/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(LeftOutlined,{onClick:function onClick(){return props.history.push('/employees');}}),\" \",idAdd?'Add Employee':'Edit Employee'),style:{marginTop:\"0\"}},/*#__PURE__*/React.createElement(Form,Object.assign({},formItemLayout,{form:form,name:\"loc_info\",layout:\"vertical\",onFinish:onFinish,className:\"innerFields\"}),/*#__PURE__*/React.createElement(Row,{gutter:15},/*#__PURE__*/React.createElement(Col,{sm:6,md:6},/*#__PURE__*/React.createElement(Form.Item,{label:/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},\"*\"),\"Profile Images\")},/*#__PURE__*/React.createElement(MultiImageInput,{images:galleryImageUriList,setImages:onUploadGallery,allowCrop:false,theme:\"light\",max:1,cropConfig:{minWidth:10,maxWidth:2000}})))),/*#__PURE__*/React.createElement(Row,{gutter:15},/*#__PURE__*/React.createElement(Col,{flex:\"auto\"},/*#__PURE__*/React.createElement(Row,{gutter:15},/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"username\",label:\"Employee Name\",rules:[{required:true,message:'This field is required!'},{max:25,message:'Employee Name must not be greater than 25 characters.'}]},/*#__PURE__*/React.createElement(Input,{placeholder:\"Employee Name\"}))),/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"email\",label:\"Email\",rules:[{required:true,message:'Please input your Email!'},{type:'email',message:'The input is not valid E-mail!'}]},idAdd?/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(MailOutlined,{className:\"site-form-item-icon\"}),placeholder:\"Email\"}):/*#__PURE__*/React.createElement(Input,{disabled:true,prefix:/*#__PURE__*/React.createElement(MailOutlined,{className:\"site-form-item-icon\"}),placeholder:\"Email\"})))))),/*#__PURE__*/React.createElement(Row,{gutter:15},/*#__PURE__*/React.createElement(Col,{flex:\"auto\"},/*#__PURE__*/React.createElement(Row,{gutter:15},/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"mobile_number\",label:\"Mobile Number\",rules:[{required:true,message:'Please input your Mobile Number!'},{pattern:/^[0-9]+$/,message:'Need to enter number'},{len:10,message:'Mobile number should be 10 digits long.'}]},idAdd?/*#__PURE__*/React.createElement(Input,{type:\"tel\",prefix:/*#__PURE__*/React.createElement(MobileOutlined,{className:\"site-form-item-icon\"}),placeholder:\"Mobile Number\"}):/*#__PURE__*/React.createElement(Input,{type:\"tel\",disabled:true,prefix:/*#__PURE__*/React.createElement(MobileOutlined,{className:\"site-form-item-icon\"}),placeholder:\"Mobile Number\"}))),/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"employee_type\",label:\"Employee Type\",rules:[{required:true,message:'This field is required!'}]},/*#__PURE__*/React.createElement(Select,{placeholder:\"Select Employee Type\"},roleList&&roleList.map(function(item,index){return/*#__PURE__*/React.createElement(Select.Option,{key:index,value:item._id},item.roles);}))))))),/*#__PURE__*/React.createElement(Row,{gutter:15},/*#__PURE__*/React.createElement(Col,{flex:\"auto\"},/*#__PURE__*/React.createElement(Row,{gutter:15},/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"dob\",label:\"DOB\",rules:[{required:true,message:'Field required!'}]},/*#__PURE__*/React.createElement(DatePicker,{disabledDate:function disabledDate(current){var customDate=moment().format(\"YYYY-MM-DD\");return current&&current>moment(customDate,\"YYYY-MM-DD\");},format:\"YYYY-MM-DD\"})))))),/*#__PURE__*/React.createElement(Form.Item,{className:\"mb-0\"},/*#__PURE__*/React.createElement(Button,{onClick:cancelFun},\"Cancel\"),\"\\xA0\\xA0\",/*#__PURE__*/React.createElement(Button,{type:\"primary\",disabled:btnDis,className:\"btn-w25 btn-primary-light\",onClick:function onClick(){return form.submit();}},\"Save\"))));};export default connect(function(_ref){var users=_ref.users,global=_ref.global,roles=_ref.roles;return{users:users,global:global,roles:roles};})(AddEditEmployee);","map":{"version":3,"sources":["/Users/kalyansingh/Desktop/Project/vivaquad/admin-backend/admin-vivaquad/src/pages/employees/action/addEdit.jsx"],"names":["React","useState","useEffect","useRef","Fragment","Row","Col","Empty","Modal","Card","Typography","Alert","Form","Input","Checkbox","Button","Space","Upload","Dropdown","Menu","Select","notification","Transfer","DatePicker","Avatar","message","InputNumber","LeftOutlined","LoadingOutlined","MailOutlined","CloseOutlined","PlusOutlined","MinusCircleOutlined","MobileOutlined","CropImage","TextEditor","moment","connect","MultiImageInput","dateFormat","formItemLayout","labelCol","xs","span","sm","AddEditEmployee","props","useForm","form","idAdd","match","params","id","undefined","dispatch","gallaryImagesList","setGallaryImagesList","count","setCount","ecount","setECount","btnDis","setBtnDis","galleryImageUriList","setGalleryImageUriList","roleList","roles","list","data","length","console","log","unmounted","window","scroll","type","DetailFun","resetFields","users","payload","_id","profile_id","convertToFormData","values","user_id","localStorage","getItem","formData","FormData","append","avatar","dob","email","employee_type","mobile_number","username","onFinish","val","error","add","status","cancelFun","history","push","edit","detail","userLogin","setFieldsValue","Date","images","file","map","galImg","dataURLtoFile","dataurl","filename","arr","split","mime","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","onUploadGallery","Object","image","i","startsWith","process","env","REACT_APP_ApiUrl","marginTop","color","minWidth","maxWidth","required","max","pattern","len","item","index","current","customDate","format","submit","global"],"mappings":"ukBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,CAA6CC,QAA7C,KAA6D,OAA7D,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,KAAnB,CAA0BC,KAA1B,CAAiCC,IAAjC,CAAuCC,UAAvC,CAAmDC,KAAnD,CAA0DC,IAA1D,CAAgEC,KAAhE,CAAuEC,QAAvE,CAAiFC,MAAjF,CAAyFC,KAAzF,CAAgGC,MAAhG,CAAwGC,QAAxG,CAAkHC,IAAlH,CAAwHC,MAAxH,CAAgIC,YAAhI,CAA8IC,QAA9I,CAAwJC,UAAxJ,CAAoKC,MAApK,CAA4KC,OAA5K,CAAqLC,WAArL,KAAwM,MAAxM,CACA,OAASC,YAAT,CAAuBC,eAAvB,CAAwCC,YAAxC,CAAsDC,aAAtD,CAAqEC,YAArE,CAAmFC,mBAAnF,CAAwGC,cAAxG,KAA8H,mBAA9H,CACA,MAAOC,CAAAA,SAAP,KAAsB,wCAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yCAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,OAAT,KAAwB,KAAxB,CACA,MAAOC,CAAAA,eAAP,KAA4B,4BAA5B,CACA,GAAMC,CAAAA,UAAU,CAAG,YAAnB,CACA,GAAMC,CAAAA,cAAc,CAAG,CAAEC,QAAQ,CAAE,CAAEC,EAAE,CAAE,CAAEC,IAAI,CAAE,EAAR,CAAN,CAAqBC,EAAE,CAAE,CAAED,IAAI,CAAE,EAAR,CAAzB,CAAZ,CAAvB,CACA,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,0DAChC,kBAAelC,IAAI,CAACmC,OAAL,EAAf,gDAAOC,IAAP,mBACA,GAAIC,CAAAA,KAAK,CAAGH,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBC,EAAnB,GAA0BC,SAA1B,CAAsC,IAAtC,CAA6C,KAAzD,CACA,GAAQC,CAAAA,QAAR,CAAqBR,KAArB,CAAQQ,QAAR,CACA,cAAkDrD,QAAQ,CAAC,EAAD,CAA1D,wCAAOsD,iBAAP,eAA0BC,oBAA1B,eACA,eAA0BvD,QAAQ,CAAC,CAAD,CAAlC,yCAAOwD,KAAP,eAAcC,QAAd,eACA,eAA4BzD,QAAQ,CAAC,CAAD,CAApC,yCAAO0D,MAAP,eAAeC,SAAf,eACA,eAA4B3D,QAAQ,CAAC,KAAD,CAApC,yCAAO4D,MAAP,eAAeC,SAAf,eACA,eAAqD7D,QAAQ,CAAC,EAAD,CAA7D,0CAAO8D,mBAAP,gBAA2BC,sBAA3B,gBACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CAEG,GAAG,CAAAnB,KAAK,OAAL,EAAAA,KAAK,SAAL,sBAAAA,KAAK,CAAEoB,KAAP,uEAAcC,IAAd,qFAAoBC,IAApB,sEAA0BC,MAA1B,EAAmC,CAAtC,CAAwC,sCAC1CJ,QAAQ,CAAKnB,KAAL,SAAKA,KAAL,gCAAKA,KAAK,CAAEoB,KAAZ,4DAAK,cAAcC,IAAnB,6CAAK,mBAAoBC,IAAjC,CACA,CACDE,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAyBN,QAAzB,EAGA/D,SAAS,CAAC,UAAM,CAEf,GAAIsE,CAAAA,SAAS,CAAG,KAAhB,CACAC,MAAM,CAACC,MAAP,CAAc,CAAd,CAAiB,CAAjB,EACA5B,KAAK,CAACQ,QAAN,CAAe,CAAEqB,IAAI,CAAE,wBAAR,CAAf,EAEA,GAAI7B,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBC,EAAvB,CAA2B,CAC1BwB,SAAS,CAAC9B,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBC,EAApB,CAAT,CACA,CAFD,IAEO,CACNJ,IAAI,CAAC6B,WAAL,GACA,CACD,MAAO,WAAM,CAAEL,SAAS,CAAG,IAAZ,CAAmB,CAAlC,CACA,CAZQ,CAYN,CAAClB,QAAD,CAZM,CAAT,CAcApD,SAAS,CAAC,UAAM,CACT,GAAIsE,CAAAA,SAAS,CAAG,KAAhB,CAEN,MAAO,WAAM,CAAEA,SAAS,CAAG,IAAZ,CAAmB,CAAlC,CACA,CAJQ,CAIN,CAAC1B,KAAK,CAACgC,KAAP,CAJM,CAAT,CAMA,GAAMF,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACxB,EAAD,CAAQ,CACxBN,KAAK,CAACQ,QAAN,CAAe,CAACqB,IAAI,CAAE,iBAAP,CAA0BI,OAAO,CAAE,CAAEC,GAAG,CAAE5B,EAAP,CAAW6B,UAAU,CAAE7B,EAAvB,CAAnC,CAAf,EACD,CAFD,CAIA,GAAM8B,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,MAAD,CAAY,CACrC,GAAIC,CAAAA,OAAO,CAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAd,CACA,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,QAAhB,CAAyBN,MAAM,CAACO,MAAhC,EACAH,QAAQ,CAACE,MAAT,CAAgB,KAAhB,CAAsBN,MAAM,CAACQ,GAA7B,EACAJ,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAwBN,MAAM,CAACS,KAA/B,EACAL,QAAQ,CAACE,MAAT,CAAgB,eAAhB,CAAgCN,MAAM,CAACU,aAAvC,EACAN,QAAQ,CAACE,MAAT,CAAgB,eAAhB,CAAgCN,MAAM,CAACW,aAAvC,EACAP,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA2BN,MAAM,CAACY,QAAlC,EACAR,QAAQ,CAACE,MAAT,CAAgB,SAAhB,CAA0BL,OAA1B,EACA,MAAOG,CAAAA,QAAP,CACA,CAXD,CAaA,GAAMS,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,GAAG,CAAI,CACvB,GAAG1C,iBAAiB,CAACc,MAAlB,GAA6B,CAAhC,CAAmC,CACjC,MAAO5C,CAAAA,OAAO,CAACyE,KAAR,CAAc,6BAAd,CAAP,CACD,CAEDD,GAAG,CAACP,MAAJ,CAAanC,iBAAiB,CAAC,CAAD,CAA9B,CACA,GAAMgC,CAAAA,QAAQ,CAAGL,iBAAiB,CAACe,GAAD,CAAlC,CAIA,GAAInD,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBC,EAAvB,CAA2B,CAC1BmC,QAAQ,CAACE,MAAT,CAAgB,KAAhB,CAAsB3C,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBC,EAAzC,EAEAE,QAAQ,CAAC,CAAEqB,IAAI,CAAE,oBAAR,CAA8BI,OAAO,CAAEQ,QAAvC,CAAD,CAAR,CACA,CAJD,IAKK,CACJjC,QAAQ,CAAC,CAAEqB,IAAI,CAAE,mBAAR,CAA6BI,OAAO,CAAEQ,QAAtC,CAAD,CAAR,CACA,CACD,CAlBD,CAoBArF,SAAS,CAAC,UAAM,CACf,GAAIsE,CAAAA,SAAS,CAAG,KAAhB,CACA,GAAI2B,CAAAA,GAAG,CAAGrD,KAAK,CAACgC,KAAN,CAAYqB,GAAtB,CACA,GAAI,CAAC3B,SAAD,EAAc2B,GAAG,CAAC1C,KAAJ,CAAYA,KAA1B,EAAmC0C,GAAnC,EAA0CA,GAAG,CAACC,MAAlD,CAA0D,CAChDtD,KAAK,CAACQ,QAAN,CAAe,CAAEqB,IAAI,CAAE,mBAAR,CAAf,EACTb,SAAS,CAAC,KAAD,CAAT,CACAuC,SAAS,GACTvD,KAAK,CAACwD,OAAN,CAAcC,IAAd,CAAmB,YAAnB,EACA,CALD,IAKO,IAAI,CAAC/B,SAAD,EAAc2B,GAAG,CAAC1C,KAAJ,CAAYA,KAA1B,EAAmC0C,GAAnC,EAA0C,CAACA,GAAG,CAACC,MAAnD,CAA2D,CACjEtC,SAAS,CAAC,KAAD,CAAT,CACAJ,QAAQ,CAACyC,GAAG,CAAC1C,KAAL,CAAR,CACA,CAEF;AACC,GAAI+C,CAAAA,IAAI,CAAG1D,KAAK,CAACgC,KAAN,CAAY0B,IAAvB,CACA,GAAI,CAAChC,SAAD,EAAcgC,IAAI,CAAC/C,KAAL,CAAaE,MAA3B,EAAqC6C,IAAI,CAACJ,MAA9C,CAAsD,CAC5CtD,KAAK,CAACQ,QAAN,CAAe,CAAEqB,IAAI,CAAE,mBAAR,CAAf,EACTf,SAAS,CAAC4C,IAAI,CAAC/C,KAAN,CAAT,CACAK,SAAS,CAAC,KAAD,CAAT,CAEAuC,SAAS,GACTvD,KAAK,CAACwD,OAAN,CAAcC,IAAd,CAAmB,YAAnB,EACA,CAPD,IAOO,IAAI,CAAC/B,SAAD,EAAcgC,IAAI,CAAC/C,KAAL,CAAaE,MAA3B,EAAqC,CAAC6C,IAAI,CAACJ,MAA/C,CAAuD,CAC7DtC,SAAS,CAAC,KAAD,CAAT,CACAF,SAAS,CAAC4C,IAAI,CAAC/C,KAAN,CAAT,CACA,CAED;AACA,GAAIX,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBC,EAAvB,CAA2B,CAC1B,GAAIqD,CAAAA,MAAM,CAAG3D,KAAK,CAACgC,KAAN,CAAY2B,MAAzB,CAEA,GAAI,CAACjC,SAAD,EAAciC,MAAd,EAAwBA,MAAM,CAACL,MAAnC,CAA2C,0BAC1C,GAAIhC,CAAAA,IAAI,CAAGqC,MAAM,CAACC,SAAlB,CACA1D,IAAI,CAAC2D,cAAL,+DACE,UADF,CACevC,IAAI,CAAC2B,QADpB,uCAC+B,OAD/B,CACyC3B,IAAI,CAACwB,KAD9C,uCACsD,eADtD,CACwExB,IAAI,CAAC0B,aAD7E,uCAC4F,eAD5F,CAC8G1B,IAAI,CAACyB,aADnH,uCACkI,KADlI,CAC0IzD,MAAM,CAAC,GAAIwE,CAAAA,IAAJ,CAASxC,IAAI,CAACuB,GAAd,GAAsB,IAAvB,CAA6BpD,UAA7B,CADhJ,yBAIA,GAAIsE,CAAAA,MAAM,CAAG,CAAC,CAACC,IAAI,CAAG1C,IAAI,CAACsB,MAAb,CAAD,CAAb,CACApB,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAuBsC,MAAvB,EACA7C,sBAAsB,CAAC6C,MAAM,CAACE,GAAP,CAAW,SAACC,MAAD,CAAY,CAC7C,MAAOA,CAAAA,MAAM,CAACF,IAAd,CACA,CAFsB,CAAD,CAAtB,CAGAtD,oBAAoB,CAACqD,MAAM,CAACE,GAAP,CAAW,SAACC,MAAD,CAAY,CAC3C,MAAOA,CAAAA,MAAM,CAACF,IAAd,CACA,CAFoB,CAAD,CAApB,CAOA,CAlBD,IAkBO,IAAI,CAACtC,SAAD,EAAciC,MAAd,EAAwB,CAACA,MAAM,CAACL,MAApC,CAA4C,CAClDtC,SAAS,CAAC,KAAD,CAAT,CACA,CACD,CACD,MAAO,WAAM,CAAEU,SAAS,CAAG,IAAZ,CAAmB,CAAlC,CAIA,CAzDQ,CAyDN,CAAC1B,KAAK,CAACgC,KAAP,CAzDM,CAAT,CA2DA,GAAMuB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACvBrD,IAAI,CAAC6B,WAAL,GACA/B,KAAK,CAACwD,OAAN,CAAcC,IAAd,CAAmB,YAAnB,EACA,CAHD,CASE,GAAMU,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,OAAD,CAAUC,QAAV,CAAuB,CACxC,GAAIC,CAAAA,GAAG,CAAGF,OAAO,CAACG,KAAR,CAAc,GAAd,CAAV,CACIC,IAAI,CAAGF,GAAG,CAAC,CAAD,CAAH,CAAOlE,KAAP,CAAa,SAAb,EAAwB,CAAxB,CADX,CAEIqE,IAAI,CAAGC,IAAI,CAACJ,GAAG,CAAC,CAAD,CAAJ,CAFf,CAGIK,CAAC,CAAGF,IAAI,CAAClD,MAHb,CAIIqD,KAAK,CAAG,GAAIC,CAAAA,UAAJ,CAAeF,CAAf,CAJZ,CAKA,MAAMA,CAAC,EAAP,CAAU,CACNC,KAAK,CAACD,CAAD,CAAL,CAAWF,IAAI,CAACK,UAAL,CAAgBH,CAAhB,CAAX,CACH,CACD,MAAO,IAAII,CAAAA,IAAJ,CAAS,CAACH,KAAD,CAAT,CAAkBP,QAAlB,CAA4B,CAACxC,IAAI,CAAC2C,IAAN,CAA5B,CAAP,CACH,CAVF,CAaA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC1D,IAAD,CAAU,CACnC,GAAMyC,CAAAA,MAAM,CAAGkB,MAAM,CAAC5C,MAAP,CAAcf,IAAd,EAAoB2C,GAApB,CAAwB,SAACiB,KAAD,CAAOC,CAAP,CAAa,CACnD,GAAGD,KAAK,CAACE,UAAN,CAAiBC,OAAO,CAACC,GAAR,CAAYC,gBAA7B,CAAH,CAAmD,CAClD,MAAOL,CAAAA,KAAP,CACA,CAFD,IAEK,CACJ,MAAOf,CAAAA,aAAa,CAACe,KAAD,CAAO,SAASC,CAAhB,CAApB,CACA,CACD,CANc,CAAf,CAOAjE,sBAAsB,CAACI,IAAD,CAAtB,CACAZ,oBAAoB,oBAAKqD,MAAL,EAApB,CAEE,CAXD,CAgBF,mBACC,oBAAC,IAAD,EAAM,KAAK,cAAE,6CAAM,oBAAC,YAAD,EAAc,OAAO,CAAE,yBAAM/D,CAAAA,KAAK,CAACwD,OAAN,CAAcC,IAAd,CAAmB,YAAnB,CAAN,EAAvB,EAAN,KAAyEtD,KAAK,CAAG,cAAH,CAAoB,eAAlG,CAAb,CAAwI,KAAK,CAAE,CAAEqF,SAAS,CAAE,GAAb,CAA/I,eAEC,oBAAC,IAAD,kBAAU9F,cAAV,EAA0B,IAAI,CAAEQ,IAAhC,CAAsC,IAAI,CAAC,UAA3C,CAAsD,MAAM,CAAC,UAA7D,CAAwE,QAAQ,CAAEgD,QAAlF,CAA4F,SAAS,CAAC,aAAtG,gBACA,oBAAC,GAAD,EAAK,MAAM,CAAE,EAAb,eACC,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,eACE,oBAAC,IAAD,CAAM,IAAN,EAAY,KAAK,cAAE,6CAAM,4BAAM,KAAK,CAAE,CAAEuC,KAAK,CAAE,KAAT,CAAb,MAAN,kBAAnB,eACE,oBAAC,eAAD,EACC,MAAM,CAAExE,mBADT,CAEC,SAAS,CAAE+D,eAFZ,CAGC,SAAS,CAAI,KAHd,CAIC,KAAK,CAAC,OAJP,CAKC,GAAG,CAAE,CALN,CAMC,UAAU,CAAE,CAAGU,QAAQ,CAAE,EAAb,CAAkBC,QAAQ,CAAE,IAA5B,CANb,EADF,CADF,CADD,CADA,cAmBC,oBAAC,GAAD,EAAK,MAAM,CAAE,EAAb,eAIC,oBAAC,GAAD,EAAK,IAAI,CAAC,MAAV,eACC,oBAAC,GAAD,EAAK,MAAM,CAAE,EAAb,eACC,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,EAAjB,eACC,oBAAC,IAAD,CAAM,IAAN,EAAW,IAAI,CAAC,UAAhB,CAA2B,KAAK,CAAC,eAAjC,CAAiD,KAAK,CAAE,CAAC,CAAEC,QAAQ,CAAE,IAAZ,CAAkBjH,OAAO,CAAE,yBAA3B,CAAD,CAAwD,CAAEkH,GAAG,CAAE,EAAP,CAAWlH,OAAO,CAAE,uDAApB,CAAxD,CAAxD,eACC,oBAAC,KAAD,EAAO,WAAW,CAAC,eAAnB,EADD,CADD,CADD,cAOC,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,EAAjB,eACA,oBAAC,IAAD,CAAM,IAAN,EAAW,IAAI,CAAC,OAAhB,CAAwB,KAAK,CAAC,OAA9B,CAAsC,KAAK,CAAE,CAC7C,CACCiH,QAAQ,CAAE,IADX,CAECjH,OAAO,CAAE,0BAFV,CAD6C,CAK7C,CACCkD,IAAI,CAAE,OADP,CAEClD,OAAO,CAAE,gCAFV,CAL6C,CAA7C,EAUAwB,KAAK,cACL,oBAAC,KAAD,EAAO,MAAM,cAAE,oBAAC,YAAD,EAAc,SAAS,CAAC,qBAAxB,EAAf,CAAiE,WAAW,CAAC,OAA7E,EADK,cAGN,oBAAC,KAAD,EAAO,QAAQ,KAAf,CAAgB,MAAM,cAAE,oBAAC,YAAD,EAAc,SAAS,CAAC,qBAAxB,EAAxB,CAA0E,WAAW,CAAC,OAAtF,EAbC,CADA,CAPD,CADD,CAJD,CAnBD,cAsDC,oBAAC,GAAD,EAAK,MAAM,CAAE,EAAb,eACA,oBAAC,GAAD,EAAK,IAAI,CAAC,MAAV,eACE,oBAAC,GAAD,EAAK,MAAM,CAAE,EAAb,eACC,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,EAAjB,eACA,oBAAC,IAAD,CAAM,IAAN,EAAW,IAAI,CAAC,eAAhB,CAAgC,KAAK,CAAC,eAAtC,CAAsD,KAAK,CAAE,CAC5D,CACDyF,QAAQ,CAAE,IADT,CAEAjH,OAAO,CAAE,kCAFT,CAD4D,CAK7D,CACCmH,OAAO,CAAE,UADV,CAECnH,OAAO,CAAE,sBAFV,CAL6D,CAS7D,CACCoH,GAAG,CAAE,EADN,CAECpH,OAAO,CAAE,yCAFV,CAT6D,CAA7D,EAeAwB,KAAK,cAAI,oBAAC,KAAD,EAAO,IAAI,CAAC,KAAZ,CAAqB,MAAM,cAAE,oBAAC,cAAD,EAAgB,SAAS,CAAC,qBAA1B,EAA7B,CAAiF,WAAW,CAAC,eAA7F,EAAJ,cAEN,oBAAC,KAAD,EAAO,IAAI,CAAC,KAAZ,CAAkB,QAAQ,KAA1B,CAA6B,MAAM,cAAE,oBAAC,cAAD,EAAgB,SAAS,CAAC,qBAA1B,EAArC,CAAyF,WAAW,CAAC,eAArG,EAjBC,CADA,CADD,cAwBC,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,EAAjB,eACC,oBAAC,IAAD,CAAM,IAAN,EAAW,IAAI,CAAC,eAAhB,CAAgC,KAAK,CAAC,eAAtC,CAAsD,KAAK,CAAE,CAAC,CAAEyF,QAAQ,CAAE,IAAZ,CAAkBjH,OAAO,CAAE,yBAA3B,CAAD,CAA7D,eACA,oBAAC,MAAD,EAAQ,WAAW,CAAC,sBAApB,EACGwC,QAAQ,EAAIA,QAAQ,CAAC8C,GAAT,CAAa,SAAC+B,IAAD,CAAOC,KAAP,qBAAiB,oBAAC,MAAD,CAAQ,MAAR,EAAe,GAAG,CAAEA,KAApB,CAA2B,KAAK,CAAED,IAAI,CAAC9D,GAAvC,EAA6C8D,IAAI,CAAC5E,KAAlD,CAAjB,EAAb,CADf,CADA,CADD,CAxBD,CADF,CADA,CAtDD,cA4FC,oBAAC,GAAD,EAAK,MAAM,CAAE,EAAb,eACA,oBAAC,GAAD,EAAK,IAAI,CAAC,MAAV,eACE,oBAAC,GAAD,EAAK,MAAM,CAAE,EAAb,eAGC,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,EAAjB,eACA,oBAAC,IAAD,CAAM,IAAN,EAAW,IAAI,CAAC,KAAhB,CAAsB,KAAK,CAAC,KAA5B,CAAkC,KAAK,CAAE,CAAE,CAAEwE,QAAQ,CAAE,IAAZ,CAAkBjH,OAAO,CAAE,iBAA3B,CAAF,CAAzC,eACA,oBAAC,UAAD,EAAa,YAAY,CAAE,sBAACuH,OAAD,CAAa,CACjC,GAAIC,CAAAA,UAAU,CAAG7G,MAAM,GAAG8G,MAAT,CAAgB,YAAhB,CAAjB,CACA,MAAOF,CAAAA,OAAO,EAAIA,OAAO,CAAG5G,MAAM,CAAC6G,UAAD,CAAa,YAAb,CAAlC,CACD,CAHN,CAGS,MAAM,CAAC,YAHhB,EADA,CADA,CAHD,CADF,CADA,CA5FD,cA6GC,oBAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,MAArB,eACC,oBAAC,MAAD,EAAQ,OAAO,CAAE5C,SAAjB,WADD,yBAEA,oBAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAExC,MAAjC,CAAyC,SAAS,CAAC,2BAAnD,CAA+E,OAAO,CAAE,yBAAMb,CAAAA,IAAI,CAACmG,MAAL,EAAN,EAAxF,SAFA,CA7GD,CAFD,CADD,CAuHA,CAlSD,CAoSA,cAAe9G,CAAAA,OAAO,CAAC,kBAAEyC,CAAAA,KAAF,MAAEA,KAAF,CAASsE,MAAT,MAASA,MAAT,CAAiBlF,KAAjB,MAAiBA,KAAjB,OAA8B,CACpDY,KAAK,CAACA,KAD8C,CAEpDsE,MAAM,CAAEA,MAF4C,CAGpDlF,KAAK,CAAGA,KAH4C,CAA9B,EAAD,CAAP,CAKXrB,eALW,CAAf","sourcesContent":["import React, { useState, useEffect, useRef, Fragment } from 'react';\r\nimport { Row, Col, Empty, Modal, Card, Typography, Alert, Form, Input, Checkbox, Button, Space, Upload, Dropdown, Menu, Select, notification, Transfer, DatePicker, Avatar, message, InputNumber } from 'antd';\r\nimport { LeftOutlined, LoadingOutlined, MailOutlined, CloseOutlined, PlusOutlined, MinusCircleOutlined ,MobileOutlined } from '@ant-design/icons';\r\nimport CropImage from '../../../components/sharing/crop-image'\r\nimport TextEditor from '../../../components/sharing/text-editor'\r\nimport moment from 'moment';\r\nimport { connect } from 'dva';\r\nimport MultiImageInput from 'react-multiple-image-input';\r\nconst dateFormat = 'MM/DD/YYYY';\r\nconst formItemLayout = { labelCol: { xs: { span: 24, }, sm: { span: 24, }, } };\r\nconst AddEditEmployee = props => {\r\n\tconst [form] = Form.useForm();\r\n\tlet idAdd = props.match.params.id === undefined ? true : false\r\n\tconst { dispatch } = props;\r\n\tconst [gallaryImagesList, setGallaryImagesList] = useState([]);\r\n\tconst [count, setCount] = useState(0)\r\n\tconst [ecount, setECount] = useState(0)\r\n\tconst [btnDis, setBtnDis] = useState(false)\r\n\tconst [galleryImageUriList,setGalleryImageUriList] = useState({});\r\n\tlet roleList = []\r\n\t\r\n    if(props?.roles?.list?.data?.length > 0){\r\n\t\troleList  =  props?.roles?.list?.data\r\n\t}\r\n\tconsole.log('roleList' , roleList)\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tlet unmounted = false;\r\n\t\twindow.scroll(0, 0);\r\n\t\tprops.dispatch({ type: 'roles/roleListEmployee', });\r\n\r\n\t\tif (props.match.params.id) {\r\n\t\t\tDetailFun(props.match.params.id)\r\n\t\t} else {\r\n\t\t\tform.resetFields();\r\n\t\t}\r\n\t\treturn () => { unmounted = true; }\r\n\t}, [dispatch])\r\n\r\n\tuseEffect(() => {\r\n        let unmounted = false;\r\n\r\n\t\treturn () => { unmounted = true; }\r\n\t}, [props.users])\r\n\r\n\tconst DetailFun = (id) => {\r\n\t\t\tprops.dispatch({type: 'users/getDetail', payload: { _id: id, profile_id: id }});\r\n\t}\r\n\r\n\tconst convertToFormData = (values) => {\r\n\t\tlet user_id = localStorage.getItem('userId');\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append(\"avatar\",values.avatar)\r\n\t\tformData.append(\"dob\",values.dob)\r\n\t\tformData.append(\"email\",values.email)\r\n\t\tformData.append(\"employee_type\",values.employee_type)\r\n\t\tformData.append(\"mobile_number\",values.mobile_number)\r\n\t\tformData.append(\"username\",values.username)\r\n\t\tformData.append(\"user_id\",user_id)\t\r\n\t\treturn formData;\r\n\t}\r\n\r\n\tconst onFinish = val => {\r\n\t\tif(gallaryImagesList.length === 0) {\r\n\t\t  return\tmessage.error('please upload profile image');\r\n\t\t} \r\n\t\t\r\n\t\tval.avatar = gallaryImagesList[0];\r\n\t\tconst formData = convertToFormData(val);\r\n\r\n\r\n\t\t\r\n\t\tif (props.match.params.id) {\r\n\t\t\tformData.append('_id',props.match.params.id);\r\n\r\n\t\t\tdispatch({ type: 'users/editEmployee', payload: formData });\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdispatch({ type: 'users/addEmployee', payload: formData });\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\t\r\n\t\tlet unmounted = false;\r\n\t\tlet add = props.users.add\r\n\t\tif (!unmounted && add.count > count && add && add.status) {\r\n            props.dispatch({ type: 'users/clearAction'});\r\n\t\t\tsetBtnDis(false);\t\r\n\t\t\tcancelFun();\r\n\t\t\tprops.history.push('/employees');\r\n\t\t} else if (!unmounted && add.count > count && add && !add.status) {\r\n\t\t\tsetBtnDis(false);\r\n\t\t\tsetCount(add.count);\r\n\t\t}\r\n\r\n\t// Edit\r\n\t\tlet edit = props.users.edit \r\n\t\tif (!unmounted && edit.count > ecount && edit.status) {\r\n            props.dispatch({ type: 'users/clearAction'});\r\n\t\t\tsetECount(edit.count);\r\n\t\t\tsetBtnDis(false);\r\n\t\t\t\r\n\t\t\tcancelFun();\r\n\t\t\tprops.history.push('/employees');\r\n\t\t} else if (!unmounted && edit.count > ecount && !edit.status) {\r\n\t\t\tsetBtnDis(false);\r\n\t\t\tsetECount(edit.count);\r\n\t\t}\r\n\r\n\t\t// detail\r\n\t\tif (props.match.params.id) {\r\n\t\t\tlet detail = props.users.detail;\r\n\t\r\n\t\t\tif (!unmounted && detail && detail.status) {\r\n\t\t\t\tlet data = detail.userLogin;\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t ['username']: data.username, ['email']: data.email, ['mobile_number']: data.mobile_number,['employee_type']: data.employee_type,['dob']: moment(new Date(data.dob) || null, dateFormat)\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlet images = [{file : data.avatar }]\r\n\t\t\t\tconsole.log('images' , images)\r\n\t\t\t\tsetGalleryImageUriList(images.map((galImg) => {\r\n\t\t\t\t\treturn galImg.file;\r\n\t\t\t\t}));\r\n\t\t\t\tsetGallaryImagesList(images.map((galImg) => {\r\n\t\t\t\t\treturn galImg.file;\r\n\t\t\t\t}));\r\n\r\n\r\n\t\r\n\r\n\t\t\t} else if (!unmounted && detail && !detail.status) {\r\n\t\t\t\tsetBtnDis(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn () => { unmounted = true; }\r\n\t\r\n\r\n\r\n\t}, [props.users])\r\n\r\n\tconst cancelFun = () => {\r\n\t\tform.resetFields();\t\r\n\t\tprops.history.push('/employees');\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\t  const dataURLtoFile = (dataurl, filename) => {\r\n        var arr = dataurl.split(','),\r\n            mime = arr[0].match(/:(.*?);/)[1],\r\n            bstr = atob(arr[1]), \r\n            n = bstr.length, \r\n            u8arr = new Uint8Array(n);   \r\n        while(n--){\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new File([u8arr], filename, {type:mime});\r\n    }\r\n\t\r\n\t\r\n\t  const onUploadGallery = (data) => {\r\n\t\tconst images = Object.values(data).map((image,i) => {\r\n\t\t\tif(image.startsWith(process.env.REACT_APP_ApiUrl)) {\r\n\t\t\t\treturn image;\r\n\t\t\t}else{\r\n\t\t\t\treturn dataURLtoFile(image,'image_'+i);\r\n\t\t\t}\r\n\t\t})\r\n\t\tsetGalleryImageUriList(data);\r\n\t\tsetGallaryImagesList([...images]);\r\n\t\t\r\n\t  }\r\n\r\n\t  \r\n\r\n\r\n\treturn (\r\n\t\t<Card title={<span><LeftOutlined onClick={() => props.history.push('/employees')} /> {idAdd ? 'Add Employee' : 'Edit Employee'}</span>} style={{ marginTop: \"0\" }}>\r\n\r\n\t\t\t<Form {...formItemLayout} form={form} name=\"loc_info\" layout=\"vertical\" onFinish={onFinish} className=\"innerFields\">\r\n\t\t\t<Row gutter={15}>\r\n\t\t\t\t<Col sm={6} md={6}>\r\n\t\t\t\t\t\t<Form.Item  label={<span><span style={{ color: 'red' }}>*</span>Profile Images</span>} >\r\n\t\t\t\t\t\t\t <MultiImageInput\r\n\t\t\t\t\t\t\t\t\timages={galleryImageUriList}\r\n\t\t\t\t\t\t\t\t\tsetImages={onUploadGallery}\r\n\t\t\t\t\t\t\t\t\tallowCrop = {false}\r\n\t\t\t\t\t\t\t\t\ttheme=\"light\"\r\n\t\t\t\t\t\t\t\t\tmax={1}\r\n\t\t\t\t\t\t\t\t\tcropConfig={{  minWidth: 10 , maxWidth: 2000  }}\r\n\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\r\n\r\n\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row gutter={15}>\r\n\t\t\t\r\n\r\n\r\n\t\t\t\t\t<Col flex=\"auto\">\r\n\t\t\t\t\t\t<Row gutter={15}>\r\n\t\t\t\t\t\t\t<Col sm={12} md={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"username\" label=\"Employee Name\" rules={[{ required: true, message: 'This field is required!' },{ max: 25, message: 'Employee Name must not be greater than 25 characters.' }]}  >\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"Employee Name\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t<Col sm={12} md={12}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"email\" label=\"Email\" rules={[\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\trequired: true, \r\n\t\t\t\t\t\t\t\tmessage: 'Please input your Email!'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\t\t\tmessage: 'The input is not valid E-mail!',\r\n\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t]} >\r\n\t\t\t\t\t\t{idAdd ? \r\n\t\t\t\t\t\t\t<Input prefix={<MailOutlined className=\"site-form-item-icon\" />} placeholder=\"Email\" />\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Input disabled prefix={<MailOutlined className=\"site-form-item-icon\" />} placeholder=\"Email\" />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t  </Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n                           \r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row gutter={15}>\r\n\t\t\t\t<Col flex=\"auto\">\r\n\t\t\t\t\t\t<Row gutter={15}>\r\n\t\t\t\t\t\t\t<Col sm={12} md={12}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"mobile_number\" label=\"Mobile Number\" rules={[ \r\n\t\t\t\t\t\t \t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input your Mobile Number!', \r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpattern: /^[0-9]+$/,\r\n\t\t\t\t\t\t\t\tmessage: 'Need to enter number'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\tlen: 10, \r\n\t\t\t\t\t\t\t\tmessage: 'Mobile number should be 10 digits long.' \r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]} >\r\n\r\n\t\t\t\t\t\t{idAdd ? \t<Input type=\"tel\"    prefix={<MobileOutlined className=\"site-form-item-icon\" />} placeholder=\"Mobile Number\" />\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Input type=\"tel\" disabled   prefix={<MobileOutlined className=\"site-form-item-icon\" />} placeholder=\"Mobile Number\" />}\r\n\t\t\t\t\t\r\n\t\t\t\t\t  </Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t<Col sm={12} md={12}>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"employee_type\" label=\"Employee Type\" rules={[{ required: true, message: 'This field is required!' }]}  >\r\n\t\t\t\t\t\t\t\t<Select placeholder=\"Select Employee Type\" >\r\n\t\t\t\t\t\t\t\t\t\t{roleList && roleList.map((item, index) => <Select.Option key={index} value={item._id}>{item.roles}</Select.Option>)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n                           \r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t\t<Row gutter={15}>\r\n\t\t\t\t<Col flex=\"auto\">\r\n\t\t\t\t\t\t<Row gutter={15}>\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t<Col sm={12} md={12}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"dob\" label=\"DOB\" rules={[ { required: true, message: 'Field required!', }, ]} >\r\n\t\t\t\t\t\t\t<DatePicker  disabledDate={(current) => {\r\n              let customDate = moment().format(\"YYYY-MM-DD\");\r\n              return current && current > moment(customDate, \"YYYY-MM-DD\");\r\n            }}  format=\"YYYY-MM-DD\"/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n                           \r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Form.Item className=\"mb-0\">\r\n\t\t\t\t\t<Button onClick={cancelFun}>Cancel</Button>&nbsp;&nbsp;\r\n\t\t\t\t<Button type=\"primary\" disabled={btnDis} className=\"btn-w25 btn-primary-light\" onClick={() => form.submit()}>Save</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Card>\r\n\t)\r\n};\r\n\r\nexport default connect(({users ,global ,roles }) => ({\r\n\tusers:users,\r\n\tglobal: global ,\r\n\troles : roles\r\n\r\n}))(AddEditEmployee);"]},"metadata":{},"sourceType":"module"}